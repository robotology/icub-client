<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>icub-client: /home/travis/build/robotology/icub-hri/src/modules/SAM/SAM_Core/interactionSAMModel.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">icub-client
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ddb4d7e95cc2d6c8e1ade10a20d7247d.html">modules</a></li><li class="navelem"><a class="el" href="dir_c58165d7c2f326e33de0f6c7df0ba009.html">SAM</a></li><li class="navelem"><a class="el" href="dir_453316a4ffa88d6295915dc99dbb1a4e.html">SAM_Core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">interactionSAMModel.py</div>  </div>
</div><!--header-->
<div class="contents">
<a href="interactionSAMModel_8py.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespaceSAM_1_1SAM__Core_1_1interactionSAMModel.html">    1</a></span>&#160;<span class="comment">#!/usr/bin/env python</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">import</span> matplotlib</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;matplotlib.use(<span class="stringliteral">&quot;TkAgg&quot;</span>)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">import</span> sys</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">import</span> time</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">from</span> ConfigParser <span class="keyword">import</span> SafeConfigParser</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">from</span> <a class="code" href="namespaceSAM_1_1SAM__Core.html">SAM.SAM_Core</a> <span class="keyword">import</span> SAMDriver <span class="keyword">as</span> Driver</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">from</span> <a class="code" href="namespaceSAM_1_1SAM__Core_1_1SAM__utils.html">SAM.SAM_Core.SAM_utils</a> <span class="keyword">import</span> initialiseModels, timeout</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">import</span> readline</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">import</span> warnings</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">import</span> yarp</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">import</span> logging</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">from</span> os.path <span class="keyword">import</span> join</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">import</span> os</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">from</span> operator <span class="keyword">import</span> itemgetter</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">import</span> thread</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;warnings.simplefilter(<span class="stringliteral">&quot;ignore&quot;</span>)</div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="namespaceSAM_1_1SAM__Core_1_1interactionSAMModel.html#ad95d88996dee123f932dd0236e44687a">   21</a></span>&#160;np.set_printoptions(precision=2)</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">class </span><a class="code" href="group__icubclient__SAM__Core.html#classSAM_1_1SAM__Core_1_1interactionSAMModel_1_1interactionSAMModel">interactionSAMModel</a>(yarp.RFModule):</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;Generic interaction function</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="stringliteral">        Description:</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="stringliteral">            Generic interaction function that carries out live collection of data, classification of said data, interaction with other modules requesting the classification and generation of training outputs for recall. The parameters for the interaction function are loaded from the config file specified in the `config_path` parameter of the default context file for samSupervisor.py. An example of the configuration structure is shown below.</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="stringliteral">        Example:</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="stringliteral">            [Model Name]</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="stringliteral">            dataIn = &lt;portName/ofInputData&gt;:i &lt;dataType of Port&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="stringliteral">            dataOut = &lt;portName/ofOutputData&gt;:o &lt;dataType of Port&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="stringliteral">            rpcBase = &lt;portName/ofRpcPort&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="stringliteral">            call_sign = ask_&lt;X&gt;_label,ask_&lt;X&gt;_instance</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="stringliteral">            collectionMethod = collectionMethod lengthOfBuffer</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="stringliteral">            [Faces]</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="stringliteral">            dataIn = /sam/faces/imageData:i ImageRgb</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="stringliteral">            dataOut = /sam/faces/imageData:o ImageMono</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="stringliteral">            rpcBase = /sam/faces/rpc</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="stringliteral">            callSign = ask_face_label,ask_face_instance</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="stringliteral">            collectionMethod = future_buffered 3</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="stringliteral">        Args:</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="stringliteral">            dataIn : The port name for the port that will received the data to be classified and the dataType to be expected.</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="stringliteral">            dataOut : The port name for the port that will output generated data and the dataType to be transmitted.</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="stringliteral">            rpcBase : The rpc port that will receive external requests. This is usually controlled by samSupervisor.py.</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="stringliteral">            call_sign : The commands that will trigger a classify from data event or a generate from label event.</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="stringliteral">            collectionMethod : The collection method to be used. Either `buffered`, `future_buffered` or `continuous`. Followed by an integer indicating the length of the buffer to be used. In the case of `continuous` the buffer length is the maximum number of classification labels to be stored in a First In Last Out (FILO) configuration. Otherwise the buffer length indicates the number of data frames that are required for a classification to take place.</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">def </span>__init__(self):</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html">   54</a></span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="stringliteral">        Initialisation of the interaction function</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        yarp.RFModule.__init__(self)</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#aca87a6ab67a29d61efc36af661771988">   58</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a4520ccea8e67c998b502152e88cb20ef">dataPath</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">   60</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a7c2ed96931ab6bfaed20e1c1ea783339">configPath</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a4520ccea8e67c998b502152e88cb20ef">   61</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#adfc7f23a60039e250ac4acf8654c036a">modelPath</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a7c2ed96931ab6bfaed20e1c1ea783339">   62</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a5147b94d30ceb4567783dd15b8eb601e">driverName</a> = <span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#adfc7f23a60039e250ac4acf8654c036a">   63</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#aadd9265ed4721b61d0de917b143747c5">model_type</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a5147b94d30ceb4567783dd15b8eb601e">   64</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a53675bd6e61e6ec79f10fcac34a5f56c">model_mode</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#aadd9265ed4721b61d0de917b143747c5">   65</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#aec9dde986913e34601d23667c60ed3df">textLabels</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a53675bd6e61e6ec79f10fcac34a5f56c">   66</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a7bf36af1faebe9664b7161308078e03b">classifiers</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#aec9dde986913e34601d23667c60ed3df">   67</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a3aff97bed4196bbddc9fd5373e5b6572">classif_thresh</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a7bf36af1faebe9664b7161308078e03b">   68</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#ae3d620854e90abd0e9e10c1163a33d03">verbose</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a3aff97bed4196bbddc9fd5373e5b6572">   69</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a04f456bd8d694107da65486d1434b932">Quser</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#ae3d620854e90abd0e9e10c1163a33d03">   70</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#ae14efe16279475b432ce0b97acfdb854">listOfModels</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a04f456bd8d694107da65486d1434b932">   71</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a> = []</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#ae14efe16279475b432ce0b97acfdb854">   72</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#afe76d176df27121b598fc982e8275f9d">svPort</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">   73</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#ae931f97a9b31e2e49dd0bffdab977630">labelPort</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#afe76d176df27121b598fc982e8275f9d">   74</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a1c6238b7f4c373a3a4d7be972f24e218">instancePort</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#ae931f97a9b31e2e49dd0bffdab977630">   75</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a0b57d46fe28374550611fef9baf0d8be">callSignList</a> = []</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a1c6238b7f4c373a3a4d7be972f24e218">   76</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a10f27e1c0c559edf3e302034e81bd564">inputBottle</a> = yarp.Bottle()</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a0b57d46fe28374550611fef9baf0d8be">   77</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a97ea2937e50e68feab403a979204e8a4">outputBottle</a> = yarp.Bottle()</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a10f27e1c0c559edf3e302034e81bd564">   78</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a> = []</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a97ea2937e50e68feab403a979204e8a4">   79</a></span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">   80</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a9ec55b08e3f17e888db61fdff85293ef">rpcConnected</a> = <span class="keyword">False</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#ad287480c31b229a549616643a270ee20">dataInConnected</a> = <span class="keyword">False</span></div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a9ec55b08e3f17e888db61fdff85293ef">   82</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a9faea48ec4061901c1c8b0fff20631a7">dataOutConnected</a> = <span class="keyword">False</span></div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#ad287480c31b229a549616643a270ee20">   83</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> = <span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a9faea48ec4061901c1c8b0fff20631a7">   84</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#aed5fdcd9eb0c2dda6353952f009a3d72">bufferSize</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">   85</a></span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#aed5fdcd9eb0c2dda6353952f009a3d72">   86</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#aff822ffdf50b487116c496b12bf54c22">falseCount</a> = 0</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#aee15064164978c37271437bf3c4a0505">noDataCount</a> = 0</div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#aff822ffdf50b487116c496b12bf54c22">   88</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a33f8e0aa04bf9264676f2e6eba2f5922">inputType</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#aee15064164978c37271437bf3c4a0505">   89</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a5223c26a15959609dd0e19972ad42a05">outputType</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a33f8e0aa04bf9264676f2e6eba2f5922">   90</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a5754ddc0800efbeace6122a1954cea09">errorRate</a> = 50</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a5223c26a15959609dd0e19972ad42a05">   91</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a> = []</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a5754ddc0800efbeace6122a1954cea09">   92</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a> = []</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">   93</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#acc08725721d5710d5a79f9e35cb3176f">closeFlag</a> = <span class="keyword">False</span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">   94</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#aa0fc9a5edd3a85aeaaf40eb798270c91">instancePortName</a> = <span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#acc08725721d5710d5a79f9e35cb3176f">   95</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a578de29cb530f0f7f58de7f7ca72edb2">labelPortName</a> = <span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#aa0fc9a5edd3a85aeaaf40eb798270c91">   96</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a6fcd3a9941a5393ad102403a44f3fafe">verboseSetting</a> = <span class="keyword">False</span></div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a578de29cb530f0f7f58de7f7ca72edb2">   97</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#aa76f42e385f30b4d01cd79d47e778823">exitFlag</a> = <span class="keyword">False</span></div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a6fcd3a9941a5393ad102403a44f3fafe">   98</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a2c2092f9317c584074b50324a8cd27a2">recordingFile</a> = <span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#aa76f42e385f30b4d01cd79d47e778823">   99</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a79cd76f78a440d34306d9ad32fe5030c">additionalInfoDict</a> = dict()</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a2c2092f9317c584074b50324a8cd27a2">  100</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a041dbcd4acd07ad140063e75636be281">modelLoaded</a> = <span class="keyword">False</span></div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a79cd76f78a440d34306d9ad32fe5030c">  101</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a168c7b8fc552c754f08f809974fe7892">attentionMode</a> = <span class="stringliteral">&#39;continue&#39;</span></div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a041dbcd4acd07ad140063e75636be281">  102</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a8da51397e44007d43ddda273de7adeba">baseLogFileName</a> = <span class="stringliteral">&#39;interactionErrorLog&#39;</span></div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a168c7b8fc552c754f08f809974fe7892">  103</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a7c5959add4bb1c8f9260b6f5bf51a1e0">windowedMode</a> = <span class="keyword">True</span></div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a8da51397e44007d43ddda273de7adeba">  104</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#ade7adabbdbdea6d892a1f9bea3dcbe16">modelRoot</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a7c5959add4bb1c8f9260b6f5bf51a1e0">  105</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#aefd2521f4907384cca0669d37e274bf9">eventPort</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#ade7adabbdbdea6d892a1f9bea3dcbe16">  106</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a8d1761d0cc0e192311d790408d720ffe">eventPortName</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#aefd2521f4907384cca0669d37e274bf9">  107</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a8d1761d0cc0e192311d790408d720ffe">  108</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">probClassList</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">  109</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#ac1b4d7ac0e03a1f5964da1c4af41588b">recency</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">  110</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a4aa04c969371c9b5ae78695962d20bcb">useRecentClassTime</a> = <span class="keyword">True</span></div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#ac1b4d7ac0e03a1f5964da1c4af41588b">  111</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#afedcc2b571e3d28ec7ca7757fcb4a4f3">my_mutex</a> = thread.allocate_lock()</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a4aa04c969371c9b5ae78695962d20bcb">  112</a></span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#afedcc2b571e3d28ec7ca7757fcb4a4f3">  113</a></span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Core.html#aa2f9d39586fd99450d4feab075d9c9e4">configure</a>(self, rf):</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="stringliteral">         Configure interactionSAMModel yarp module</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="stringliteral">        Args:</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="stringliteral">            rf: Yarp RF context input</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="stringliteral">            argv_1 : String containing data path.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="stringliteral">            argv_2 : String containing model path.</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="stringliteral">            argv_3 : String containing config file path (from `config_path` parameter of samSupervisor config file).</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="stringliteral">            argv_4 : String driver name corresponding to a valid driver present in SAM_Drivers folder.</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="stringliteral">            argv_5 : String `&#39;True&#39;` or `&#39;False&#39;` to switch formatting of logging depending on whether interaction is logging to a separate window or to the stdout of another process.</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="stringliteral">        Returns:</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="stringliteral">            Boolean indicating success or no success in initialising the yarp module</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        stringCommand = <span class="stringliteral">&#39;from SAM.SAM_Drivers import &#39;</span> + sys.argv[4] + <span class="stringliteral">&#39; as Driver&#39;</span></div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#aa2f9d39586fd99450d4feab075d9c9e4">  128</a></span>&#160;        exec stringCommand</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a> = [Driver()]</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a4520ccea8e67c998b502152e88cb20ef">dataPath</a> = sys.argv[1]</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#adfc7f23a60039e250ac4acf8654c036a">modelPath</a> = sys.argv[2]</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a5147b94d30ceb4567783dd15b8eb601e">driverName</a> = sys.argv[4]</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a7c2ed96931ab6bfaed20e1c1ea783339">configPath</a> = sys.argv[3]</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#a7c5959add4bb1c8f9260b6f5bf51a1e0">windowedMode</a> = sys.argv[5] == <span class="stringliteral">&#39;True&#39;</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#ade7adabbdbdea6d892a1f9bea3dcbe16">modelRoot</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#a4520ccea8e67c998b502152e88cb20ef">dataPath</a>.split(<span class="stringliteral">&#39;/&#39;</span>)[-1]</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        file_i = 0</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        loggerFName = join(self.<a class="code" href="group__icubclient__SAM__Core.html#a4520ccea8e67c998b502152e88cb20ef">dataPath</a>, self.<a class="code" href="group__icubclient__SAM__Core.html#a8da51397e44007d43ddda273de7adeba">baseLogFileName</a> + <span class="stringliteral">&#39;_&#39;</span> + str(file_i) + <span class="stringliteral">&#39;.log&#39;</span>)</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="comment"># check if file exists</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">while</span> os.path.isfile(loggerFName) <span class="keywordflow">and</span> os.path.getsize(loggerFName) &gt; 0:</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            loggerFName = join(self.<a class="code" href="group__icubclient__SAM__Core.html#a4520ccea8e67c998b502152e88cb20ef">dataPath</a>, self.<a class="code" href="group__icubclient__SAM__Core.html#a8da51397e44007d43ddda273de7adeba">baseLogFileName</a> + <span class="stringliteral">&#39;_&#39;</span> + str(file_i) + <span class="stringliteral">&#39;.log&#39;</span>)</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            file_i += 1</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a7c5959add4bb1c8f9260b6f5bf51a1e0">windowedMode</a>:</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            logFormatter = logging.Formatter(<span class="stringliteral">&quot;[%(levelname)s]  %(message)s&quot;</span>)</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            logFormatter = logging.Formatter(<span class="stringliteral">&quot;\033[31m%(asctime)s [%(name)-33s] [%(levelname)8s]  %(message)s\033[0m&quot;</span>)</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        rootLogger = logging.getLogger(<span class="stringliteral">&#39;interaction &#39;</span> + self.<a class="code" href="group__icubclient__SAM__Core.html#a5147b94d30ceb4567783dd15b8eb601e">driverName</a>)</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        rootLogger.setLevel(logging.DEBUG)</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        fileHandler = logging.FileHandler(loggerFName)</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        fileHandler.setFormatter(logFormatter)</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        rootLogger.addHandler(fileHandler)</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        consoleHandler = logging.StreamHandler()</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        consoleHandler.setFormatter(logFormatter)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        rootLogger.addHandler(consoleHandler)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        logging.root = rootLogger</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        off = 17</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        logging.info(<span class="stringliteral">&#39;Arguments: &#39;</span> + str(sys.argv))</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        logging.info(stringCommand)</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        logging.info(<span class="stringliteral">&#39;Using log&#39;</span> + str(loggerFName))</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        logging.info(<span class="stringliteral">&#39;-------------------&#39;</span>)</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        logging.info(<span class="stringliteral">&#39;Interaction Settings:&#39;</span>)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        logging.info(<span class="stringliteral">&#39;Data Path: &#39;</span>.ljust(off) + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a4520ccea8e67c998b502152e88cb20ef">dataPath</a>))</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        logging.info(<span class="stringliteral">&#39;Model Path: &#39;</span>.ljust(off) + str(self.<a class="code" href="group__icubclient__SAM__Core.html#adfc7f23a60039e250ac4acf8654c036a">modelPath</a>))</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        logging.info(<span class="stringliteral">&#39;Config Path: &#39;</span>.ljust(off) + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a7c2ed96931ab6bfaed20e1c1ea783339">configPath</a>))</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        logging.info(<span class="stringliteral">&#39;Driver: &#39;</span>.ljust(off) + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a5147b94d30ceb4567783dd15b8eb601e">driverName</a>))</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        logging.info(<span class="stringliteral">&#39;-------------------&#39;</span>)</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        logging.info(<span class="stringliteral">&#39;Configuring Interaction...&#39;</span>)</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        logging.info(<span class="stringliteral">&#39;&#39;</span>)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="comment"># parse settings from config file</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        parser2 = SafeConfigParser()</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        parser2.read(self.<a class="code" href="group__icubclient__SAM__Core.html#a7c2ed96931ab6bfaed20e1c1ea783339">configPath</a>)</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        proposedBuffer = 5</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#ade7adabbdbdea6d892a1f9bea3dcbe16">modelRoot</a> <span class="keywordflow">in</span> parser2.sections():</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a> = parser2.items(self.<a class="code" href="group__icubclient__SAM__Core.html#a4520ccea8e67c998b502152e88cb20ef">dataPath</a>.split(<span class="stringliteral">&#39;/&#39;</span>)[-1])</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            logging.info(str(self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>))</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a> = []</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(len(self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>)):</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[j][0] == <span class="stringliteral">&#39;rpcbase&#39;</span>:</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>.append(yarp.Port())</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[j].open(self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[j][1]+<span class="stringliteral">&quot;:i&quot;</span>)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#afe76d176df27121b598fc982e8275f9d">svPort</a> = j</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    self.attach(self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[j])</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <span class="keywordflow">elif</span> self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[j][0] == <span class="stringliteral">&#39;callsign&#39;</span>:</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                    <span class="comment"># should check for repeated call signs by getting list from samSupervisor</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#a0b57d46fe28374550611fef9baf0d8be">callSignList</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[j][1].split(<span class="stringliteral">&#39;,&#39;</span>)</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                <span class="keywordflow">elif</span> self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[j][0] == <span class="stringliteral">&#39;collectionmethod&#39;</span>:</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[j][1].split(<span class="stringliteral">&#39; &#39;</span>)[0]</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    <span class="keywordflow">try</span>:</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                        proposedBuffer = int(self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[j][1].split(<span class="stringliteral">&#39; &#39;</span>)[1])</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    <span class="keywordflow">except</span> ValueError:</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                        logging.error(<span class="stringliteral">&#39;collectionMethod bufferSize is not an integer&#39;</span>)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                        logging.error(<span class="stringliteral">&#39;Should be e.g: collectionMethod = buffered 3&#39;</span>)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                    <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> <span class="keywordflow">not</span> <span class="keywordflow">in</span> [<span class="stringliteral">&#39;buffered&#39;</span>, <span class="stringliteral">&#39;continuous&#39;</span>, <span class="stringliteral">&#39;future_buffered&#39;</span>]:</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                        logging.error(<span class="stringliteral">&#39;collectionMethod should be set to buffered / continuous / future_buffered&#39;</span>)</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                <span class="keywordflow">elif</span> self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[j][0] == <span class="stringliteral">&#39;recency&#39;</span>:</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                        <span class="keywordflow">try</span>:</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                            self.<a class="code" href="group__icubclient__SAM__Core.html#ac1b4d7ac0e03a1f5964da1c4af41588b">recency</a> = int(self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[j][1])</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                        <span class="keywordflow">except</span> ValueError:</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                            logging.error(<span class="stringliteral">&#39;Recency value for &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a5147b94d30ceb4567783dd15b8eb601e">driverName</a>) + <span class="stringliteral">&#39; is not an integer&#39;</span>)</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                            self.<a class="code" href="group__icubclient__SAM__Core.html#ac1b4d7ac0e03a1f5964da1c4af41588b">recency</a> = 5</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                    parts = self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[j][1].split(<span class="stringliteral">&#39; &#39;</span>)</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    logging.info(parts)</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    <span class="keywordflow">if</span> parts[1].lower() == <span class="stringliteral">&#39;imagergb&#39;</span>:</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>.append(yarp.BufferedPortImageRgb())</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                        <span class="comment"># self.portsList[j].open(parts[0])</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                    <span class="keywordflow">elif</span> parts[1].lower() == <span class="stringliteral">&#39;imagemono&#39;</span>:</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>.append(yarp.BufferedPortImageMono())</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                        <span class="comment"># self.portsList[j].open(parts[0])</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    <span class="keywordflow">elif</span> parts[1].lower() == <span class="stringliteral">&#39;bottle&#39;</span>:</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>.append(yarp.BufferedPortBottle())</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                        <span class="comment"># self.portsList[j].open(parts[0])</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        logging.error(<span class="stringliteral">&#39;Data type &#39;</span> + str(parts[1]) + <span class="stringliteral">&#39; for &#39;</span> +</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                      str(self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[j][0]) + <span class="stringliteral">&#39; unsupported&#39;</span>)</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    <span class="comment"># mrd models with label/instance training will always have:</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                    <span class="comment"># 1 an input data line which is used when a label is requested</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    <span class="comment"># 2 an output data line which is used when a generated instance is required</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    <span class="keywordflow">if</span> parts[0][-1] == <span class="stringliteral">&#39;i&#39;</span>:</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Core.html#ae931f97a9b31e2e49dd0bffdab977630">labelPort</a> = j</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Core.html#a578de29cb530f0f7f58de7f7ca72edb2">labelPortName</a> = parts[0]</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    <span class="keywordflow">elif</span> parts[0][-1] == <span class="stringliteral">&#39;o&#39;</span>:</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Core.html#a1c6238b7f4c373a3a4d7be972f24e218">instancePort</a> = j</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Core.html#aa0fc9a5edd3a85aeaaf40eb798270c91">instancePortName</a> = parts[0]</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> == <span class="stringliteral">&#39;continuous&#39;</span>:</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>.append(yarp.BufferedPortBottle())</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#aefd2521f4907384cca0669d37e274bf9">eventPort</a> = len(self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>) - 1</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#a8d1761d0cc0e192311d790408d720ffe">eventPortName</a> = <span class="stringliteral">&#39;/&#39;</span>.join(self.<a class="code" href="group__icubclient__SAM__Core.html#a578de29cb530f0f7f58de7f7ca72edb2">labelPortName</a>.split(<span class="stringliteral">&#39;/&#39;</span>)[:3])+<span class="stringliteral">&#39;/event&#39;</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#aefd2521f4907384cca0669d37e274bf9">eventPort</a>].open(self.<a class="code" href="group__icubclient__SAM__Core.html#a8d1761d0cc0e192311d790408d720ffe">eventPortName</a>)</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a> = []</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#ac1b4d7ac0e03a1f5964da1c4af41588b">recency</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    logging.warning(<span class="stringliteral">&#39;No recency value specified for &#39;</span> + self.<a class="code" href="group__icubclient__SAM__Core.html#a5147b94d30ceb4567783dd15b8eb601e">driverName</a>)</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                    logging.warning(<span class="stringliteral">&#39;Setting value to default of 5 seconds&#39;</span>)</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#ac1b4d7ac0e03a1f5964da1c4af41588b">recency</a> = 5</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#afe76d176df27121b598fc982e8275f9d">svPort</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> self.<a class="code" href="group__icubclient__SAM__Core.html#ae931f97a9b31e2e49dd0bffdab977630">labelPort</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a1c6238b7f4c373a3a4d7be972f24e218">instancePort</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                logging.warning(<span class="stringliteral">&#39;Config file properties incorrect. Should look like this:&#39;</span>)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                logging.warning(<span class="stringliteral">&#39;[Actions]&#39;</span>)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                logging.warning(<span class="stringliteral">&#39;dataIn = /sam/actions/actionData:i Bottle&#39;</span>)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                logging.warning(<span class="stringliteral">&#39;dataOut = /sam/actions/actionData:o Bottle&#39;</span>)</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                logging.warning(<span class="stringliteral">&#39;rpcBase = /sam/actions/rpc&#39;</span>)</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                logging.warning(<span class="stringliteral">&#39;callSign = ask_action_label, ask_action_instance&#39;</span>)</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                logging.warning(<span class="stringliteral">&#39;collectionMethod = buffered 3&#39;</span>)</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="comment"># self.mm[0].configInteraction(self)</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#a33f8e0aa04bf9264676f2e6eba2f5922">inputType</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#ae931f97a9b31e2e49dd0bffdab977630">labelPort</a>][1].split(<span class="stringliteral">&#39; &#39;</span>)[1].lower()</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#a5223c26a15959609dd0e19972ad42a05">outputType</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#ae931f97a9b31e2e49dd0bffdab977630">labelPort</a>][1].split(<span class="stringliteral">&#39; &#39;</span>)[1].lower()</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a> = []</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a> = []</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">probClassList</a> = []</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a> = []</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            yarp.Network.init()</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a> = <a class="code" href="group__icubclient__SAM__utils.html#ga7d1d61b09b614680e853bc0be5e10df1">initialiseModels</a>([self.<a class="code" href="group__icubclient__SAM__Core.html#a4520ccea8e67c998b502152e88cb20ef">dataPath</a>, self.<a class="code" href="group__icubclient__SAM__Core.html#adfc7f23a60039e250ac4acf8654c036a">modelPath</a>, self.<a class="code" href="group__icubclient__SAM__Core.html#a5147b94d30ceb4567783dd15b8eb601e">driverName</a>], <span class="stringliteral">&#39;update&#39;</span>, <span class="stringliteral">&#39;interaction&#39;</span>)</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#a041dbcd4acd07ad140063e75636be281">modelLoaded</a> = <span class="keyword">True</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[0].model_mode != <span class="stringliteral">&#39;temporal&#39;</span>:</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#aed5fdcd9eb0c2dda6353952f009a3d72">bufferSize</a> = proposedBuffer</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordflow">elif</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[0].model_mode == <span class="stringliteral">&#39;temporal&#39;</span>:</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#aed5fdcd9eb0c2dda6353952f009a3d72">bufferSize</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[0].temporalModelWindowSize</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#ae931f97a9b31e2e49dd0bffdab977630">labelPort</a>].open(self.<a class="code" href="group__icubclient__SAM__Core.html#a578de29cb530f0f7f58de7f7ca72edb2">labelPortName</a>)</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#a1c6238b7f4c373a3a4d7be972f24e218">instancePort</a>].open(self.<a class="code" href="group__icubclient__SAM__Core.html#aa0fc9a5edd3a85aeaaf40eb798270c91">instancePortName</a>)</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="comment"># self.test()</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            logging.error(<span class="stringliteral">&#39;Section &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#ade7adabbdbdea6d892a1f9bea3dcbe16">modelRoot</a>) + <span class="stringliteral">&#39; not found in &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a7c2ed96931ab6bfaed20e1c1ea783339">configPath</a>))</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Core.html#a347c3010f6cd5f9280819be41ec39bf1">close</a>(self):</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="stringliteral">            Close Yarp module</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="stringliteral">            Args:</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="stringliteral">                None</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="stringliteral">            Returns:</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="stringliteral">                Boolean indicating success or no success in closing the Yarp module</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="comment"># close ports of loaded models</span></div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a347c3010f6cd5f9280819be41ec39bf1">  299</a></span>&#160;        logging.info(<span class="stringliteral">&#39;Exiting ...&#39;</span>)</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>:</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#a426a489d4b25536db51228b0049cca03">closePort</a>(j)</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    @<a class="code" href="group__icubclient__SAM__utils.html#classSAM_1_1SAM__Core_1_1SAM__utils_1_1timeout">timeout</a>(3)</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Core.html#a426a489d4b25536db51228b0049cca03">closePort</a>(self, j):</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="stringliteral">            Helper function to close ports with an enforced timeout of 3 seconds so the module doesn&#39;t hang.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="stringliteral">            Args:</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="stringliteral">                j: Yarp Port</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="stringliteral">            Returns:</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="stringliteral">                None</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        j.interrupt()</div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a426a489d4b25536db51228b0049cca03">  316</a></span>&#160;        time.sleep(1)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        j.close()</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Core.html#a5c4de12a5f89c6885bebdf8d0c37d806">respond</a>(self, command, reply):</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="stringliteral">            Respond to external requests</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="stringliteral">            Description:</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="stringliteral">                Available requests \n</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="stringliteral">                1) __heartbeat__      :  Sanity check request to make sure module is still alive. \n</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="stringliteral">                2) __information__    :  Utility request to pass in contextual information. \n</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="stringliteral">                3) __portNames__      :  Request to return the name of the currently open ports for samSupervisor to keep a list of open ports. \n</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="stringliteral">                4) __reload__         :  Request to reload model from disk. \n</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="stringliteral">                5) __toggleVerbose__  :  Switch logging to stdout on or off. \n</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="stringliteral">                6) __EXIT__           :  Abort and close the module. \n</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="stringliteral">                7) __ask_X_label__    :  Request a classification from the module. \n</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="stringliteral">                8) __ask_X_instance__ :  Request a generative output from the module. \n</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="stringliteral">            Args:</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="stringliteral">                command : Incoming Yarp bottle containing external request.</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="stringliteral">                reply : Outgoing Yarp bottle containing reply to processed request.</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="stringliteral">            Returns:</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="stringliteral">                Boolean indicating success or no success in responding to external requests.</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="comment"># this method responds to samSupervisor commands</span></div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a5c4de12a5f89c6885bebdf8d0c37d806">  342</a></span>&#160;        reply.clear()</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        action = command.get(0).asString()</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        count = 0</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">while</span> <span class="keywordflow">not</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a041dbcd4acd07ad140063e75636be281">modelLoaded</a>:</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            count += 1</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            time.sleep(0.5)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="keywordflow">if</span> count == 10:</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="keywordflow">break</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a041dbcd4acd07ad140063e75636be281">modelLoaded</a>:</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keywordflow">if</span> action != <span class="stringliteral">&#39;heartbeat&#39;</span> <span class="keywordflow">or</span> action != <span class="stringliteral">&#39;information&#39;</span>:</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                logging.info(action + <span class="stringliteral">&#39; received&#39;</span>)</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                logging.info(<span class="stringliteral">&#39;responding to &#39;</span> + action + <span class="stringliteral">&#39; request&#39;</span>)</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keywordflow">if</span> action == <span class="stringliteral">&quot;portNames&quot;</span>:</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                reply.addString(<span class="stringliteral">&#39;ack&#39;</span>)</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                reply.addString(self.<a class="code" href="group__icubclient__SAM__Core.html#a578de29cb530f0f7f58de7f7ca72edb2">labelPortName</a>)</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                reply.addString(self.<a class="code" href="group__icubclient__SAM__Core.html#aa0fc9a5edd3a85aeaaf40eb798270c91">instancePortName</a>)</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> == <span class="stringliteral">&#39;continuous&#39;</span>:</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                    reply.addString(self.<a class="code" href="group__icubclient__SAM__Core.html#a8d1761d0cc0e192311d790408d720ffe">eventPortName</a>)</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="comment"># -------------------------------------------------</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keywordflow">elif</span> action == <span class="stringliteral">&quot;reload&quot;</span>:</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <span class="comment"># send a message to the interaction model to check version of currently loaded model</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <span class="comment"># and compare it with that stored on disk. If model on disk is more recent reload model</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                <span class="comment"># interaction model to return &quot;model reloaded correctly&quot; or &quot;loaded model already up to date&quot;</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                logging.info(<span class="stringliteral">&quot;reloading model&quot;</span>)</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                <span class="keywordflow">try</span>:</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a> = <a class="code" href="group__icubclient__SAM__utils.html#ga7d1d61b09b614680e853bc0be5e10df1">initialiseModels</a>([self.<a class="code" href="group__icubclient__SAM__Core.html#a4520ccea8e67c998b502152e88cb20ef">dataPath</a>, self.<a class="code" href="group__icubclient__SAM__Core.html#adfc7f23a60039e250ac4acf8654c036a">modelPath</a>, self.<a class="code" href="group__icubclient__SAM__Core.html#a5147b94d30ceb4567783dd15b8eb601e">driverName</a>],</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                                                <span class="stringliteral">&#39;update&#39;</span>, <span class="stringliteral">&#39;interaction&#39;</span>)</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                    reply.addString(<span class="stringliteral">&#39;ack&#39;</span>)</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                <span class="keywordflow">except</span>:</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    reply.addString(<span class="stringliteral">&#39;nack&#39;</span>)</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="comment"># -------------------------------------------------</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="keywordflow">elif</span> action == <span class="stringliteral">&quot;heartbeat&quot;</span>:</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                reply.addString(<span class="stringliteral">&#39;ack&#39;</span>)</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="comment"># -------------------------------------------------</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="keywordflow">elif</span> action == <span class="stringliteral">&quot;toggleVerbose&quot;</span>:</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#a6fcd3a9941a5393ad102403a44f3fafe">verboseSetting</a> = <span class="keywordflow">not</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a6fcd3a9941a5393ad102403a44f3fafe">verboseSetting</a></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                reply.addString(<span class="stringliteral">&#39;ack&#39;</span>)</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="comment"># -------------------------------------------------</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="comment"># elif action == &quot;attention&quot;:</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="comment">#     self.attentionMode = command.get(1).asString()</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="comment">#     reply.addString(&#39;ack&#39;)</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <span class="comment"># -------------------------------------------------</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="keywordflow">elif</span> action == <span class="stringliteral">&quot;information&quot;</span>:</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                <span class="keywordflow">if</span> command.size() &lt; 3:</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                    reply.addString(<span class="stringliteral">&#39;nack&#39;</span>)</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    <span class="keywordflow">try</span>:</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Core.html#a79cd76f78a440d34306d9ad32fe5030c">additionalInfoDict</a>[command.get(1).asString()] = command.get(2).asString()</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                        reply.addString(<span class="stringliteral">&#39;ack&#39;</span>)</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    <span class="keywordflow">except</span>:</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                        reply.addString(<span class="stringliteral">&#39;nack&#39;</span>)</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                    logging.info(self.<a class="code" href="group__icubclient__SAM__Core.html#a79cd76f78a440d34306d9ad32fe5030c">additionalInfoDict</a>)</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="comment"># -------------------------------------------------</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="keywordflow">elif</span> action == <span class="stringliteral">&quot;EXIT&quot;</span>:</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                reply.addString(<span class="stringliteral">&#39;ack&#39;</span>)</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#a347c3010f6cd5f9280819be41ec39bf1">close</a>()</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="comment"># -------------------------------------------------</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="keywordflow">elif</span> action <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a0b57d46fe28374550611fef9baf0d8be">callSignList</a>:</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                logging.info(<span class="stringliteral">&#39;call sign command recognized&#39;</span>)</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <span class="keywordflow">if</span> <span class="stringliteral">&#39;label&#39;</span> <span class="keywordflow">in</span> action:</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#ae12b4f78693e01bfc895e1474badcaf7">classifyInstance</a>(reply)</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                <span class="keywordflow">elif</span> <span class="stringliteral">&#39;instance&#39;</span> <span class="keywordflow">in</span> action:</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#ab5347106cc5a047fb54e41cd2488df88">generateInstance</a>(reply, command.get(1).asString())</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="comment"># -------------------------------------------------</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                reply.addString(<span class="stringliteral">&quot;nack&quot;</span>)</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                reply.addString(<span class="stringliteral">&quot;Command not recognized&quot;</span>)</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            reply.addString(<span class="stringliteral">&quot;nack&quot;</span>)</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            reply.addString(<span class="stringliteral">&quot;Model not loaded&quot;</span>)</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Core.html#ae12b4f78693e01bfc895e1474badcaf7">classifyInstance</a>(self, reply):</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="stringliteral">            Classify a live collected data instance</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="stringliteral">            Description:</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="stringliteral">                This method responds to an `ask_x_label` request sent via the rpc port of the module. \n</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="stringliteral">                In the case of __collectionMethod__ = `buffered`, the data currently in the buffer is sent to processLiveData() method for the current driver which returns a classification label that is embedded in reply.\n</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="stringliteral">                In the case of __collectionMethod__ = `future_buffered`, this method reads incoming frames from the `dataIn` port until the collection buffer is full at which point it calls processLiveData() to get a classification label.\n</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="stringliteral">                In the case of __collectionMethod__ = `continuous`, this model returns the most recent label in the FILO buffer containing classification labels.\n</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="stringliteral">            Args:</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="stringliteral">                reply : Outgoing Yarp bottle containing classification label.</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="stringliteral">            Returns:</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="stringliteral">                None</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#ae931f97a9b31e2e49dd0bffdab977630">labelPort</a>].getInputCount() &gt; 0:</div><div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#ae12b4f78693e01bfc895e1474badcaf7">  435</a></span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a6fcd3a9941a5393ad102403a44f3fafe">verboseSetting</a>:</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                logging.info(<span class="stringliteral">&#39;-------------------------------------&#39;</span>)</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> == <span class="stringliteral">&#39;buffered&#39;</span>:</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a041dbcd4acd07ad140063e75636be281">modelLoaded</a>:</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                    logging.debug(<span class="stringliteral">&#39;going in process live&#39;</span>)</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    thisClass, probClass, dataList = self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[0].processLiveData(self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a>, self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>,</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                                                                                verbose=self.<a class="code" href="group__icubclient__SAM__Core.html#a6fcd3a9941a5393ad102403a44f3fafe">verboseSetting</a>,</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                                                                                additionalData=self.<a class="code" href="group__icubclient__SAM__Core.html#a79cd76f78a440d34306d9ad32fe5030c">additionalInfoDict</a>)</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                    logging.debug(<span class="stringliteral">&#39;exited process live&#39;</span>)</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                    thisClass = <span class="keywordtype">None</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                logging.debug(thisClass)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                logging.debug(<span class="stringliteral">&#39;object thisclass&#39;</span> + str(thisClass <span class="keywordflow">is</span> <span class="keywordtype">None</span>))</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                logging.debug(<span class="stringliteral">&#39;object datalist&#39;</span> + str(dataList <span class="keywordflow">is</span> <span class="keywordtype">None</span>))</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                logging.debug(<span class="stringliteral">&#39;string thisclass&#39;</span> + str(thisClass == <span class="stringliteral">&#39;None&#39;</span>))</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                logging.debug(<span class="stringliteral">&#39;string datalist&#39;</span> + str(dataList == <span class="stringliteral">&#39;None&#39;</span>))</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                <span class="keywordflow">if</span> thisClass <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> dataList <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                    logging.debug(<span class="stringliteral">&#39;None reply&#39;</span>)</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                    reply.addString(<span class="stringliteral">&#39;nack&#39;</span>)</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                    logging.debug(<span class="stringliteral">&#39;correct reply&#39;</span>)</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                    reply.addString(<span class="stringliteral">&#39;ack&#39;</span>)</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    reply.addString(thisClass)</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                logging.debug(<span class="stringliteral">&#39;finish reply&#39;</span>)</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    <span class="comment"># reply.addDouble(probClass)</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="comment"># -------------------------------------------------</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <span class="keywordflow">elif</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> == <span class="stringliteral">&#39;continuous&#39;</span>:</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                <span class="comment"># mutex lock classificationList</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#afedcc2b571e3d28ec7ca7757fcb4a4f3">my_mutex</a>.acquire()</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                logging.debug(self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a>)</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                logging.debug(self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a>)</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                <span class="comment"># check last n seconds</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                <span class="keywordflow">if</span> len(self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a>) &gt; 0:</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                    <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a4aa04c969371c9b5ae78695962d20bcb">useRecentClassTime</a>:</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                        minT = self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a>[-1] - self.<a class="code" href="group__icubclient__SAM__Core.html#ac1b4d7ac0e03a1f5964da1c4af41588b">recency</a></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                        minT = time.time() - self.<a class="code" href="group__icubclient__SAM__Core.html#ac1b4d7ac0e03a1f5964da1c4af41588b">recency</a></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                    logging.debug(<span class="stringliteral">&#39;minT &#39;</span> + str(minT))</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                    logging.debug(<span class="stringliteral">&#39;recency &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#ac1b4d7ac0e03a1f5964da1c4af41588b">recency</a>))</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    <span class="keywordflow">for</span> index, value <span class="keywordflow">in</span> enumerate(self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a>):</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                        logging.debug(str(index) + <span class="stringliteral">&#39; &#39;</span> + str(value) + <span class="stringliteral">&#39; &#39;</span> + str(value &gt; minT))</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                    validList = [index <span class="keywordflow">for</span> index, value <span class="keywordflow">in</span> enumerate(self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a>) <span class="keywordflow">if</span> value &gt; minT]</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                    logging.debug(<span class="stringliteral">&#39;validList &#39;</span> + str(validList))</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                    minIdx = min(validList)</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                    logging.debug(<span class="stringliteral">&#39;minIdx &#39;</span> + str(minIdx))</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                    validClassList = self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a>[minIdx:]</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                    validProbList = self.<a class="code" href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">probClassList</a>[minIdx:]</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                    logging.debug(<span class="stringliteral">&#39;validClassList &#39;</span> + str(validClassList))</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                    logging.debug(<span class="stringliteral">&#39;classify classList&#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a>))</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                    logging.debug(<span class="stringliteral">&#39;classify probclassList&#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">probClassList</a>))</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                    logging.debug(<span class="stringliteral">&#39;classify classTimeStamps&#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a>))</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                    <span class="keywordflow">if</span> len(validClassList) &gt; 0:</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                        <span class="comment"># combine all classifications</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                        <span class="keywordflow">if</span> len(validClassList) == 1:</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                            logging.debug(<span class="stringliteral">&#39;validClassList is of len 1&#39;</span>)</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                            decision = validClassList[0]</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                            logging.debug(<span class="stringliteral">&#39;validClassList is of len &#39;</span> + str(len(validClassList)))</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                            setClass = list(set(validClassList))</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                            logging.debug(<span class="stringliteral">&#39;setClass &#39;</span> + str(setClass))</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                            <span class="keywordflow">if</span> len(setClass) == len(validClassList):</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                                logging.debug(<span class="stringliteral">&#39;len setClass = len validClassList&#39;</span> + str(len(setClass)) + <span class="stringliteral">&#39; &#39;</span> +</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                                              str(len(validClassList)))</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                                decision = validClassList[validProbList.index(max(validProbList))]</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                                dictResults = dict()</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                                <span class="keywordflow">for</span> m <span class="keywordflow">in</span> setClass:</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                                    logging.debug(<span class="stringliteral">&#39;currentM &#39;</span> + str(m))</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                    idxM = [idx <span class="keywordflow">for</span> idx, name <span class="keywordflow">in</span> enumerate(validClassList) <span class="keywordflow">if</span> name == m]</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                    logging.debug(<span class="stringliteral">&#39;idx &#39;</span> + str(idxM))</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                    probVals = itemgetter(*idxM)(validProbList)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                                    logging.debug(<span class="stringliteral">&#39;probs &#39;</span> + str(probVals))</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                                    <span class="keywordflow">try</span>:</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                                        probSum = sum(probVals)</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                                    <span class="keywordflow">except</span> TypeError:</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                                        probSum = probVals</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                                    logging.debug(<span class="stringliteral">&#39;sum &#39;</span> + str(probSum))</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                                    dictResults[m] = probSum</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                                    logging.debug(<span class="stringliteral">&#39;&#39;</span>)</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                logging.debug(<span class="stringliteral">&#39;dictResults &#39;</span> + str(dictResults))</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                                maxDictProb = max(dictResults.values())</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                                logging.debug(<span class="stringliteral">&#39;maxDictProb = &#39;</span> + str(maxDictProb))</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                                decisions = [key <span class="keywordflow">for</span> key <span class="keywordflow">in</span> dictResults.keys() <span class="keywordflow">if</span> dictResults[key] == maxDictProb]</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                                logging.info(<span class="stringliteral">&#39;Decision: &#39;</span> + str(decisions))</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                                logging.info(<span class="stringliteral">&#39;We have resolution&#39;</span>)</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                                decision = <span class="stringliteral">&#39; and &#39;</span>.join(decisions)</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                        logging.info(<span class="stringliteral">&#39;Decision: &#39;</span> + decision)</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                        reply.addString(<span class="stringliteral">&#39;ack&#39;</span>)</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                        reply.addString(decision)</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                        <span class="comment"># reply.addString(validClassList[-1])</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                        <span class="comment"># self.classificationList.pop(-1)</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                        <span class="comment"># remove validclassList from self.classificationList / probClassList / classTimeStamps</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a>[:minIdx]</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">probClassList</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">probClassList</a>[:minIdx]</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a>[:minIdx]</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                        logging.info(<span class="stringliteral">&#39;No valid classifications&#39;</span>)</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                        reply.addString(<span class="stringliteral">&#39;nack&#39;</span>)</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                    logging.debug(<span class="stringliteral">&#39;replying &#39;</span> + reply.toString())</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                    logging.debug(<span class="stringliteral">&#39;classify classList&#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a>))</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                    logging.debug(<span class="stringliteral">&#39;classify probclassList&#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">probClassList</a>))</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                    logging.debug(<span class="stringliteral">&#39;classify classTimeStamps&#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a>))</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    logging.info(<span class="stringliteral">&#39;No classifications yet&#39;</span>)</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                    reply.addString(<span class="stringliteral">&#39;nack&#39;</span>)</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#afedcc2b571e3d28ec7ca7757fcb4a4f3">my_mutex</a>.release()</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <span class="comment"># -------------------------------------------------</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="keywordflow">elif</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> == <span class="stringliteral">&#39;future_buffered&#39;</span>:</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a> = []</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(self.<a class="code" href="group__icubclient__SAM__Core.html#aed5fdcd9eb0c2dda6353952f009a3d72">bufferSize</a>):</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a>.append(self.<a class="code" href="group__icubclient__SAM__Core.html#ac61db7ca04e5e86639c0413b14421c64">readFrame</a>())</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a041dbcd4acd07ad140063e75636be281">modelLoaded</a>:</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    thisClass, probClass, dataList = self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[0].processLiveData(self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a>, self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>,</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                                                                                verbose=self.<a class="code" href="group__icubclient__SAM__Core.html#a6fcd3a9941a5393ad102403a44f3fafe">verboseSetting</a>,</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                                                                                additionalData=self.<a class="code" href="group__icubclient__SAM__Core.html#a79cd76f78a440d34306d9ad32fe5030c">additionalInfoDict</a>)</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                    thisClass = <span class="keywordtype">None</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                <span class="keywordflow">if</span> thisClass <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> dataList <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                    reply.addString(<span class="stringliteral">&#39;nack&#39;</span>)</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                    reply.addString(<span class="stringliteral">&#39;ack&#39;</span>)</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                    reply.addString(thisClass)</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                    <span class="comment"># reply.addDouble(probClass)</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            reply.addString(<span class="stringliteral">&#39;nack&#39;</span>)</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            reply.addString(<span class="stringliteral">&#39;No input connections to &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#ae931f97a9b31e2e49dd0bffdab977630">labelPort</a>].getName()))</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        logging.info(<span class="stringliteral">&#39;--------------------------------------&#39;</span>)</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Core.html#ab5347106cc5a047fb54e41cd2488df88">generateInstance</a>(self, reply, instanceName):</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Responds to an ask_X_instance request</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="stringliteral">        Description:</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="stringliteral">            Implements the logic for responding to an `ask_X_instance` rpc request for __instanceName__. This method responds with an `ack` or `nack` on the rpc port indicating success of memory generation and outputs the generated instance returned by recallFromLabel on the `dataOut` port.</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="stringliteral">        Args:</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="stringliteral">            reply : Yarp Bottle to embed the rpc response.</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="stringliteral">            instanceName : Name of class to generate.</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="stringliteral">        Returns:</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="stringliteral">            None</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#a1c6238b7f4c373a3a4d7be972f24e218">instancePort</a>].getOutputCount() != 0:</div><div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#ab5347106cc5a047fb54e41cd2488df88">  584</a></span>&#160;            <span class="keywordflow">if</span> instanceName <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[0].textLabels:</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                instance = self.<a class="code" href="group__icubclient__SAM__Core.html#a520238102076c1921ed1ca4a27942035">recallFromLabel</a>(instanceName)</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                <span class="comment"># send generated instance to driver where it is converted into the proper format</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                formattedData = self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[0].formatGeneratedData(instance)</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                <span class="comment"># check formattedData is of correct data type</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                <span class="keywordflow">if</span> str(type(self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#a1c6238b7f4c373a3a4d7be972f24e218">instancePort</a>])).split(<span class="stringliteral">&#39;\&#39;&#39;</span>)[1].split(<span class="stringliteral">&#39;Port&#39;</span>)[1] \</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                        <span class="keywordflow">in</span> str(type(formattedData)):</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    <span class="keywordflow">try</span>:</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                        img = self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#a1c6238b7f4c373a3a4d7be972f24e218">instancePort</a>].prepare()</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                        img.copy(formattedData)</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#a1c6238b7f4c373a3a4d7be972f24e218">instancePort</a>].write()</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                        reply.addString(<span class="stringliteral">&#39;ack&#39;</span>)</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                        reply.addString(<span class="stringliteral">&#39;Generated instance of &#39;</span> + instanceName + <span class="stringliteral">&#39; as &#39;</span> +</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                                        str(type(formattedData)))</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                    <span class="keywordflow">except</span>:</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                        reply.addString(<span class="stringliteral">&#39;nack&#39;</span>)</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                        reply.addString(<span class="stringliteral">&#39;Failed to write &#39;</span> + instanceName + <span class="stringliteral">&#39; as &#39;</span> +</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                                        str(type(self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#a1c6238b7f4c373a3a4d7be972f24e218">instancePort</a>])))</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    reply.addString(<span class="stringliteral">&#39;nack&#39;</span>)</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                    reply.addString(<span class="stringliteral">&#39;Output of &#39;</span> + self.<a class="code" href="group__icubclient__SAM__Core.html#a5147b94d30ceb4567783dd15b8eb601e">driverName</a> + <span class="stringliteral">&#39;.formatGeneratedData is of type: &#39;</span> +</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                                    str(type(formattedData)) + <span class="stringliteral">&#39;. Should be type: &#39;</span> +</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                                    str(type(self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#a1c6238b7f4c373a3a4d7be972f24e218">instancePort</a>])))</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                reply.addString(<span class="stringliteral">&#39;nack&#39;</span>)</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                reply.addString(<span class="stringliteral">&#39;Instance name not found. Available instance names are: &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[0].textLabels))</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            reply.addString(<span class="stringliteral">&#39;nack&#39;</span>)</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            reply.addString(<span class="stringliteral">&#39;No outgoing connections on &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#a1c6238b7f4c373a3a4d7be972f24e218">instancePort</a>].getName()))</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Core.html#a520238102076c1921ed1ca4a27942035">recallFromLabel</a>(self, label):</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="stringliteral">            Generates instance based on label.</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="stringliteral">            Args:</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="stringliteral">                label : String containing the class label for the requested generated instance.</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="stringliteral">            Returns:</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="stringliteral">               Serialised vector representing the generated instance.</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        ind = self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[0].textLabels.index(label)</div><div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a520238102076c1921ed1ca4a27942035">  625</a></span>&#160;        <span class="keywordflow">if</span> len(self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>) &gt; 1:</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            indsToChooseFrom = self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[ind + 1].SAMObject.model.textLabelPts[ind]</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            chosenInd = np.random.choice(indsToChooseFrom, 1)</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            yrecall = self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[ind + 1].SAMObject.recall(chosenInd)</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            indsToChooseFrom = self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[0].SAMObject.model.textLabelPts[ind]</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            chosenInd = np.random.choice(indsToChooseFrom, 1)</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            yrecall = self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[0].SAMObject.recall(chosenInd)</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">return</span> yrecall</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Core.html#a7639f827f67e7831daaa02fedb67b98b">interruptModule</a>(self):</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="stringliteral">        Module interrupt logic.</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="stringliteral">        Returns : Boolean indicating success of logic or not.</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l00643"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a7639f827f67e7831daaa02fedb67b98b">  643</a></span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Core.html#a82dd0a034854d247905f2fae4088ad2c">getPeriod</a>(self):</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="stringliteral">           Module refresh rate.</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="stringliteral">           Returns : The period of the module in seconds.</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordflow">return</span> 0.1</div><div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a82dd0a034854d247905f2fae4088ad2c">  651</a></span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Core.html#a5762ec3d1b75e0f9ad561eab86018512">updateModule</a>(self):</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="stringliteral">            Logic to execute every getPeriod() seconds.</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="stringliteral">            Description:</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="stringliteral">                This function makes sure important ports are connected. Priority 1 is the rpc port. Priority 2 is the data in port. If both are connected this function triggers collectData().</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="stringliteral">            Returns: Boolean indicating success of logic or not.</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        out = self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#afe76d176df27121b598fc982e8275f9d">svPort</a>].getOutputCount() + self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#afe76d176df27121b598fc982e8275f9d">svPort</a>].getInputCount()</div><div class="line"><a name="l00662"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a5762ec3d1b75e0f9ad561eab86018512">  662</a></span>&#160;        <span class="keywordflow">if</span> out != 0:</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a9ec55b08e3f17e888db61fdff85293ef">rpcConnected</a>:</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                logging.info(<span class="stringliteral">&quot;Connection received&quot;</span>)</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                logging.info(<span class="stringliteral">&#39;\n&#39;</span>)</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                logging.info(<span class="stringliteral">&#39;-------------------------------------&#39;</span>)</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#a9ec55b08e3f17e888db61fdff85293ef">rpcConnected</a> = <span class="keyword">True</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#aff822ffdf50b487116c496b12bf54c22">falseCount</a> = 0</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#ad287480c31b229a549616643a270ee20">dataInConnected</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#ae931f97a9b31e2e49dd0bffdab977630">labelPort</a>].getInputCount() &gt; 0</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#ad287480c31b229a549616643a270ee20">dataInConnected</a>:</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#a46552835c6838d63ab48803180c4a6ec">collectData</a>()</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#aee15064164978c37271437bf3c4a0505">noDataCount</a> += 1</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                    <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aee15064164978c37271437bf3c4a0505">noDataCount</a> == self.<a class="code" href="group__icubclient__SAM__Core.html#a5754ddc0800efbeace6122a1954cea09">errorRate</a>:</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Core.html#aee15064164978c37271437bf3c4a0505">noDataCount</a> = 0</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                        logging.info(<span class="stringliteral">&#39;No data in connection. Waiting for &#39;</span> +</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                                     self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#ae931f97a9b31e2e49dd0bffdab977630">labelPort</a>][1] + <span class="stringliteral">&#39; to receive a connection&#39;</span>)</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#a9ec55b08e3f17e888db61fdff85293ef">rpcConnected</a> = <span class="keyword">False</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#aff822ffdf50b487116c496b12bf54c22">falseCount</a> += 1</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aff822ffdf50b487116c496b12bf54c22">falseCount</a> == self.<a class="code" href="group__icubclient__SAM__Core.html#a5754ddc0800efbeace6122a1954cea09">errorRate</a>:</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#aff822ffdf50b487116c496b12bf54c22">falseCount</a> = 0</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                logging.info(<span class="stringliteral">&#39;Waiting for &#39;</span> + self.<a class="code" href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">portNameList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#afe76d176df27121b598fc982e8275f9d">svPort</a>][1] +</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                             <span class="stringliteral">&#39; to receive a connection&#39;</span>)</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        time.sleep(0.05)</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Core.html#ac61db7ca04e5e86639c0413b14421c64">readFrame</a>(self):</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="stringliteral">            Logic to read an available data frame.</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="stringliteral">            Description:</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="stringliteral">                This function first checks the required data type of the frame to be received and instantiates the required yarp data object. This function then subsequently reads in the latest frame from the __dataIn__ port which it returns. Return is `None` if the data type is not recognised. This is currently a limitation because `ImageRgb`, `ImageMono` and `Bottle` are so far the only supported bottle types. This can be easily extended in this section by adding more cases.</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="stringliteral">            Returns: Boolean indicating success of logic or not.</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a33f8e0aa04bf9264676f2e6eba2f5922">inputType</a> == <span class="stringliteral">&#39;imagergb&#39;</span>:</div><div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#ac61db7ca04e5e86639c0413b14421c64">  700</a></span>&#160;            frame = yarp.ImageRgb()</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="keywordflow">elif</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a33f8e0aa04bf9264676f2e6eba2f5922">inputType</a> == <span class="stringliteral">&#39;imagemono&#39;</span>:</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            frame = yarp.ImageMono()</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keywordflow">elif</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a33f8e0aa04bf9264676f2e6eba2f5922">inputType</a> == <span class="stringliteral">&#39;bottle&#39;</span>:</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            frame = yarp.Bottle()</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        frameRead = self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#ae931f97a9b31e2e49dd0bffdab977630">labelPort</a>].read(<span class="keyword">True</span>)</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a33f8e0aa04bf9264676f2e6eba2f5922">inputType</a> == <span class="stringliteral">&#39;bottle&#39;</span>:</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            frame.fromString(frameRead.toString())</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keywordflow">elif</span> <span class="stringliteral">&#39;image&#39;</span> <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a33f8e0aa04bf9264676f2e6eba2f5922">inputType</a>:</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            frame.copy(frameRead)</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">return</span> frame</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Core.html#a46552835c6838d63ab48803180c4a6ec">collectData</a>(self):</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Collect data function</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="stringliteral">        Description:</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="stringliteral">            This function implements three types of data collection procedures: \n</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="stringliteral">            1) __buffered__ : Collects data in a fixed length FIFO buffer of past frames. This buffer is read by classifyInstance(). \n</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="stringliteral">            2) __future_buffered__ : No operation. \n</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="stringliteral">            3) __continuous__ : Collect data until a buffer of length windowSize is full and then perform a classification on this data. The classification is then stored in a buffer with is read by classifyInstance(). \n</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="stringliteral">            Returns:</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="stringliteral">                None</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Core.html#aee15064164978c37271437bf3c4a0505">noDataCount</a> = 0</div><div class="line"><a name="l00731"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#a46552835c6838d63ab48803180c4a6ec">  731</a></span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> == <span class="stringliteral">&#39;buffered&#39;</span>:</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            frame = self.<a class="code" href="group__icubclient__SAM__Core.html#ac61db7ca04e5e86639c0413b14421c64">readFrame</a>()</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <span class="comment"># append frame to buffer</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="keywordflow">if</span> len(self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a>) == self.<a class="code" href="group__icubclient__SAM__Core.html#aed5fdcd9eb0c2dda6353952f009a3d72">bufferSize</a>:</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                <span class="comment"># FIFO buffer first item in list most recent</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a>.pop(0)</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a>.append(frame)</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a>.append(frame)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="comment"># -------------------------------------------------</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="keywordflow">elif</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> == <span class="stringliteral">&#39;continuous&#39;</span> <span class="keywordflow">and</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a168c7b8fc552c754f08f809974fe7892">attentionMode</a> == <span class="stringliteral">&#39;continue&#39;</span>:</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <span class="comment"># read frame of data</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            frame = self.<a class="code" href="group__icubclient__SAM__Core.html#ac61db7ca04e5e86639c0413b14421c64">readFrame</a>()</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            <span class="comment"># append frame to dataList</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a> = []</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a>.append(frame)</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            <span class="comment"># process list of frames for a classification</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            dataList = []</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#a041dbcd4acd07ad140063e75636be281">modelLoaded</a>:</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                thisClass, probClass, dataList = self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[0].processLiveData(self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a>, self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>,</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                                                                            verbose=self.<a class="code" href="group__icubclient__SAM__Core.html#a6fcd3a9941a5393ad102403a44f3fafe">verboseSetting</a>,</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                                                                            additionalData=self.<a class="code" href="group__icubclient__SAM__Core.html#a79cd76f78a440d34306d9ad32fe5030c">additionalInfoDict</a>)</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                thisClass = <span class="keywordtype">None</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <span class="comment"># if proper classification</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            <span class="keywordflow">if</span> thisClass <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                <span class="comment"># empty dataList</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                <span class="comment"># mutex dataList lock</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#afedcc2b571e3d28ec7ca7757fcb4a4f3">my_mutex</a>.acquire()</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">dataList</a> = dataList</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                <span class="comment"># mutex dataList release</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                <span class="keywordflow">if</span> thisClass != <span class="stringliteral">&#39;None&#39;</span>:</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                    tStamp = time.time()</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                    eventBottle = self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#aefd2521f4907384cca0669d37e274bf9">eventPort</a>].prepare()</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                    eventBottle.clear()</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                    eventBottle.addString(<span class="stringliteral">&#39;ack&#39;</span>)</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#aefd2521f4907384cca0669d37e274bf9">eventPort</a>].write()</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                    <span class="comment"># add classification to classificationList to be retrieved during respond method</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                    <span class="comment"># mutex classificationList lock</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                    <span class="comment"># Time based method</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                    logging.info(<span class="stringliteral">&#39;classList len: &#39;</span> + str(len(self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a>)))</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                    logging.debug(<span class="stringliteral">&#39;thisclass &#39;</span> + str(thisClass))</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a> + thisClass</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                    logging.debug(<span class="stringliteral">&#39;classificationList &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a>))</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">probClassList</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">probClassList</a> + probClass</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                    logging.debug(<span class="stringliteral">&#39;probClass &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">probClassList</a>))</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a> + [tStamp]*len(thisClass)</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                    logging.debug(<span class="stringliteral">&#39;self.classTimestamps &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a>))</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                    <span class="comment"># remove timestamps older than memory duration (self.bufferSize in seconds)</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                    logging.debug(<span class="stringliteral">&#39;last time stamp: &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a>[-1]))</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                    minMemT = self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a>[-1] - self.<a class="code" href="group__icubclient__SAM__Core.html#aed5fdcd9eb0c2dda6353952f009a3d72">bufferSize</a></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                    logging.debug(<span class="stringliteral">&#39;minMemT &#39;</span> + str(minMemT))</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                    goodIdxs = [idx <span class="keywordflow">for</span> idx, timeVal <span class="keywordflow">in</span> enumerate(self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a>) <span class="keywordflow">if</span> timeVal &gt; minMemT]</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                    logging.debug(<span class="stringliteral">&#39;goodIdxs &#39;</span> + str(goodIdxs))</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                    minIdx = min(goodIdxs)</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a>[minIdx:]</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">probClassList</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">probClassList</a>[minIdx:]</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a> = self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a>[minIdx:]</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                    logging.debug(<span class="stringliteral">&#39;classificationList &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">classificationList</a>))</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                    logging.debug(<span class="stringliteral">&#39;probClass &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">probClassList</a>))</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                    logging.debug(<span class="stringliteral">&#39;self.classTimestamps &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">classTimestamps</a>))</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                    <span class="comment"># Old method</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                    <span class="comment"># if len(self.classificationList) == self.bufferSize:</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                    <span class="comment">#     # FIFO buffer first item in list is oldest</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                    <span class="comment">#     self.classificationList.pop(0)</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                    <span class="comment">#     self.classTimestamps.pop(0)</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                    <span class="comment">#     self.classificationList.append(thisClass)</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                    <span class="comment">#     self.classTimestamps.append(tStamp)</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                    <span class="comment"># else:</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                    <span class="comment">#     self.classificationList.append(thisClass)</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                    <span class="comment">#     self.classTimestamps.append(tStamp)</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                <span class="comment"># mutex release</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Core.html#afedcc2b571e3d28ec7ca7757fcb4a4f3">my_mutex</a>.release()</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="comment"># -------------------------------------------------</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="keywordflow">elif</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> == <span class="stringliteral">&#39;future_buffered&#39;</span>:</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            <span class="keywordflow">pass</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Core.html#aa72f478cad3de6494731fa172c5a3105">test</a>(self):</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="stringliteral">            Utility function to test data collection procedures for debugging purposes.</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        count = 0</div><div class="line"><a name="l00824"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Core.html#aa72f478cad3de6494731fa172c5a3105">  824</a></span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> == <span class="stringliteral">&#39;continuous&#39;</span>:</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            classifyBlock = self.<a class="code" href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">mm</a>[0].paramsDict[<span class="stringliteral">&#39;windowSize&#39;</span>]</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">elif</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> == <span class="stringliteral">&#39;buffered&#39;</span>:</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            classifyBlock = self.<a class="code" href="group__icubclient__SAM__Core.html#aed5fdcd9eb0c2dda6353952f009a3d72">bufferSize</a></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            classifyBlock = 10</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <span class="keywordflow">while</span> <span class="keyword">True</span>:</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            out = (self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#afe76d176df27121b598fc982e8275f9d">svPort</a>].getOutputCount() + self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#afe76d176df27121b598fc982e8275f9d">svPort</a>].getInputCount()) &gt; 0</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            dataInConnected = self.<a class="code" href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">portsList</a>[self.<a class="code" href="group__icubclient__SAM__Core.html#ae931f97a9b31e2e49dd0bffdab977630">labelPort</a>].getInputCount() &gt; 0</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            <span class="keywordflow">if</span> out <span class="keywordflow">and</span> dataInConnected:</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> == <span class="stringliteral">&#39;future_buffered&#39;</span>:</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                    reply = yarp.Bottle()</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#ae12b4f78693e01bfc895e1474badcaf7">classifyInstance</a>(reply)</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                    logging.info(reply.toString())</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                <span class="keywordflow">elif</span> self.<a class="code" href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">collectionMethod</a> == <span class="stringliteral">&#39;continuous&#39;</span>:</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Core.html#a46552835c6838d63ab48803180c4a6ec">collectData</a>()</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                    count += 1</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                    <span class="keywordflow">if</span> count == classifyBlock:</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                        count = 0</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                        reply = yarp.Bottle()</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Core.html#ae12b4f78693e01bfc895e1474badcaf7">classifyInstance</a>(reply)</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                        logging.info(<span class="stringliteral">&#39;CLASSIFICATION: &#39;</span> + reply.toString())</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                <span class="comment"># self.dataList = []</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                <span class="comment"># for j in range(self.bufferSize):</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                <span class="comment">#     self.dataList.append(self.readFrame())</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                <span class="comment"># if thisClass is None:</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                <span class="comment">#     logging.info(&#39;None&#39;)</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                <span class="comment"># else:</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                <span class="comment">#     logging.info(thisClass, &#39; &#39;, likelihood)</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            time.sleep(0.05)</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="keyword">def </span><a class="code" href="namespaceSAM_1_1SAM__Core_1_1interactionSAMModel.html#af61a343a4521eee226bc19ee9931915e">exception_hook</a>(exc_type, exc_value, exc_traceback):</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;Callback function to record any errors that occur in the log files.</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="stringliteral">        Documentation:</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="stringliteral">            Substitutes the standard python exception_hook with one that records the error into a log file. Can only work if interactionSAMModel.py is called from python and not ipython because ipython overrides this substitution.</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="stringliteral">        Args:</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="stringliteral">            exc_type: Exception Type.</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="stringliteral">            exc_value: Exception Value.</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="stringliteral">            exc_traceback: Exception Traceback.</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="stringliteral">        Returns:</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="stringliteral">            None</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    logging.error(<span class="stringliteral">&quot;Uncaught exception&quot;</span>, exc_info=(exc_type, exc_value, exc_traceback))</div><div class="line"><a name="l00875"></a><span class="lineno"><a class="line" href="namespaceSAM_1_1SAM__Core_1_1interactionSAMModel.html#af61a343a4521eee226bc19ee9931915e">  875</a></span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;sys.excepthook = exception_hook</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="keywordflow">if</span> __name__ == <span class="stringliteral">&#39;__main__&#39;</span>:</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    plt.ion()</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    yarp.Network.init()</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    mod = <a class="code" href="group__icubclient__SAM__Core.html#classSAM_1_1SAM__Core_1_1interactionSAMModel_1_1interactionSAMModel">interactionSAMModel</a>()</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    rf = yarp.ResourceFinder()</div><div class="line"><a name="l00883"></a><span class="lineno"><a class="line" href="namespaceSAM_1_1SAM__Core_1_1interactionSAMModel.html#ac8fc99c1044c90d77d2bc1d470ed11bd">  883</a></span>&#160;    rf.setVerbose(<span class="keyword">True</span>)</div><div class="line"><a name="l00884"></a><span class="lineno"><a class="line" href="namespaceSAM_1_1SAM__Core_1_1interactionSAMModel.html#a5b02d7b171d64258c379d4a115b9b6f6">  884</a></span>&#160;    <span class="comment"># rf.setDefaultContext(&quot;samSupervisor&quot;)</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="comment"># rf.setDefaultConfigFile(&quot;default.ini&quot;)</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    rf.configure(sys.argv)</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    mod.runModule(rf)</div><div class="ttc" id="group__icubclient__SAM__Core_html_aa2f9d39586fd99450d4feab075d9c9e4"><div class="ttname"><a href="group__icubclient__SAM__Core.html#aa2f9d39586fd99450d4feab075d9c9e4">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.configure</a></div><div class="ttdeci">def configure(self, rf)</div><div class="ttdoc">Configure interactionSAMModel yarp module. </div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00128">interactionSAMModel.py:128</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a9faea48ec4061901c1c8b0fff20631a7"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a9faea48ec4061901c1c8b0fff20631a7">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.dataOutConnected</a></div><div class="ttdeci">dataOutConnected</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00084">interactionSAMModel.py:84</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a04f456bd8d694107da65486d1434b932"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a04f456bd8d694107da65486d1434b932">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.Quser</a></div><div class="ttdeci">Quser</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00071">interactionSAMModel.py:71</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a5c4de12a5f89c6885bebdf8d0c37d806"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a5c4de12a5f89c6885bebdf8d0c37d806">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.respond</a></div><div class="ttdeci">def respond(self, command, reply)</div><div class="ttdoc">Respond to external requests. </div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00342">interactionSAMModel.py:342</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a79cd76f78a440d34306d9ad32fe5030c"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a79cd76f78a440d34306d9ad32fe5030c">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.additionalInfoDict</a></div><div class="ttdeci">additionalInfoDict</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00101">interactionSAMModel.py:101</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a7639f827f67e7831daaa02fedb67b98b"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a7639f827f67e7831daaa02fedb67b98b">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.interruptModule</a></div><div class="ttdeci">def interruptModule(self)</div><div class="ttdoc">Module interrupt logic. </div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00643">interactionSAMModel.py:643</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a0803dbacaafda4d145fee04210798fc9"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a0803dbacaafda4d145fee04210798fc9">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.classTimestamps</a></div><div class="ttdeci">classTimestamps</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00109">interactionSAMModel.py:109</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a4aa04c969371c9b5ae78695962d20bcb"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a4aa04c969371c9b5ae78695962d20bcb">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.useRecentClassTime</a></div><div class="ttdeci">useRecentClassTime</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00112">interactionSAMModel.py:112</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_aadd9265ed4721b61d0de917b143747c5"><div class="ttname"><a href="group__icubclient__SAM__Core.html#aadd9265ed4721b61d0de917b143747c5">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.model_type</a></div><div class="ttdeci">model_type</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00065">interactionSAMModel.py:65</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a8d1761d0cc0e192311d790408d720ffe"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a8d1761d0cc0e192311d790408d720ffe">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.eventPortName</a></div><div class="ttdeci">eventPortName</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00108">interactionSAMModel.py:108</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a4520ccea8e67c998b502152e88cb20ef"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a4520ccea8e67c998b502152e88cb20ef">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.dataPath</a></div><div class="ttdeci">dataPath</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00061">interactionSAMModel.py:61</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_aee15064164978c37271437bf3c4a0505"><div class="ttname"><a href="group__icubclient__SAM__Core.html#aee15064164978c37271437bf3c4a0505">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.noDataCount</a></div><div class="ttdeci">noDataCount</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00089">interactionSAMModel.py:89</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a9ec55b08e3f17e888db61fdff85293ef"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a9ec55b08e3f17e888db61fdff85293ef">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.rpcConnected</a></div><div class="ttdeci">rpcConnected</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00082">interactionSAMModel.py:82</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a46552835c6838d63ab48803180c4a6ec"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a46552835c6838d63ab48803180c4a6ec">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.collectData</a></div><div class="ttdeci">def collectData(self)</div><div class="ttdoc">Collect data function. </div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00731">interactionSAMModel.py:731</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_aec9dde986913e34601d23667c60ed3df"><div class="ttname"><a href="group__icubclient__SAM__Core.html#aec9dde986913e34601d23667c60ed3df">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.textLabels</a></div><div class="ttdeci">textLabels</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00067">interactionSAMModel.py:67</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a347c3010f6cd5f9280819be41ec39bf1"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a347c3010f6cd5f9280819be41ec39bf1">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.close</a></div><div class="ttdeci">def close(self)</div><div class="ttdoc">Close Yarp module. </div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00299">interactionSAMModel.py:299</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_ae931f97a9b31e2e49dd0bffdab977630"><div class="ttname"><a href="group__icubclient__SAM__Core.html#ae931f97a9b31e2e49dd0bffdab977630">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.labelPort</a></div><div class="ttdeci">labelPort</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00075">interactionSAMModel.py:75</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a5147b94d30ceb4567783dd15b8eb601e"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a5147b94d30ceb4567783dd15b8eb601e">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.driverName</a></div><div class="ttdeci">driverName</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00064">interactionSAMModel.py:64</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a7bf36af1faebe9664b7161308078e03b"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a7bf36af1faebe9664b7161308078e03b">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.classifiers</a></div><div class="ttdeci">classifiers</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00068">interactionSAMModel.py:68</a></div></div>
<div class="ttc" id="group__icubclient__SAM__utils_html_ga7d1d61b09b614680e853bc0be5e10df1"><div class="ttname"><a href="group__icubclient__SAM__utils.html#ga7d1d61b09b614680e853bc0be5e10df1">SAM.SAM_Core.SAM_utils.initialiseModels</a></div><div class="ttdeci">def initialiseModels(argv, update, initMode='training')</div><div class="ttdoc">Initialise SAM Model data structure, training parameters and user parameters. </div><div class="ttdef"><b>Definition:</b> <a href="SAM__utils_8py_source.html#l00059">SAM_utils.py:59</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_ad287480c31b229a549616643a270ee20"><div class="ttname"><a href="group__icubclient__SAM__Core.html#ad287480c31b229a549616643a270ee20">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.dataInConnected</a></div><div class="ttdeci">dataInConnected</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00083">interactionSAMModel.py:83</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_aed5fdcd9eb0c2dda6353952f009a3d72"><div class="ttname"><a href="group__icubclient__SAM__Core.html#aed5fdcd9eb0c2dda6353952f009a3d72">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.bufferSize</a></div><div class="ttdeci">bufferSize</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00086">interactionSAMModel.py:86</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_ae3b095eb43f6fc74cdc5b5e7a74227ea"><div class="ttname"><a href="group__icubclient__SAM__Core.html#ae3b095eb43f6fc74cdc5b5e7a74227ea">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.portNameList</a></div><div class="ttdeci">portNameList</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00080">interactionSAMModel.py:80</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_ac1b4d7ac0e03a1f5964da1c4af41588b"><div class="ttname"><a href="group__icubclient__SAM__Core.html#ac1b4d7ac0e03a1f5964da1c4af41588b">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.recency</a></div><div class="ttdeci">recency</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00111">interactionSAMModel.py:111</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a520238102076c1921ed1ca4a27942035"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a520238102076c1921ed1ca4a27942035">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.recallFromLabel</a></div><div class="ttdeci">def recallFromLabel(self, label)</div><div class="ttdoc">Generates instance based on label. </div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00625">interactionSAMModel.py:625</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a168c7b8fc552c754f08f809974fe7892"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a168c7b8fc552c754f08f809974fe7892">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.attentionMode</a></div><div class="ttdeci">attentionMode</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00103">interactionSAMModel.py:103</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a041dbcd4acd07ad140063e75636be281"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a041dbcd4acd07ad140063e75636be281">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.modelLoaded</a></div><div class="ttdeci">modelLoaded</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00102">interactionSAMModel.py:102</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a7c2ed96931ab6bfaed20e1c1ea783339"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a7c2ed96931ab6bfaed20e1c1ea783339">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.configPath</a></div><div class="ttdeci">configPath</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00062">interactionSAMModel.py:62</a></div></div>
<div class="ttc" id="namespaceSAM_1_1SAM__Core_1_1interactionSAMModel_html_af61a343a4521eee226bc19ee9931915e"><div class="ttname"><a href="namespaceSAM_1_1SAM__Core_1_1interactionSAMModel.html#af61a343a4521eee226bc19ee9931915e">SAM.SAM_Core.interactionSAMModel.exception_hook</a></div><div class="ttdeci">def exception_hook(exc_type, exc_value, exc_traceback)</div><div class="ttdoc">Callback function to record any errors that occur in the log files. </div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00875">interactionSAMModel.py:875</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a578de29cb530f0f7f58de7f7ca72edb2"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a578de29cb530f0f7f58de7f7ca72edb2">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.labelPortName</a></div><div class="ttdeci">labelPortName</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00097">interactionSAMModel.py:97</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a65109034f0d2c8090362df40fb27fbd1"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a65109034f0d2c8090362df40fb27fbd1">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.mm</a></div><div class="ttdeci">mm</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00060">interactionSAMModel.py:60</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_adfc7f23a60039e250ac4acf8654c036a"><div class="ttname"><a href="group__icubclient__SAM__Core.html#adfc7f23a60039e250ac4acf8654c036a">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.modelPath</a></div><div class="ttdeci">modelPath</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00063">interactionSAMModel.py:63</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a1c6238b7f4c373a3a4d7be972f24e218"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a1c6238b7f4c373a3a4d7be972f24e218">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.instancePort</a></div><div class="ttdeci">instancePort</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00076">interactionSAMModel.py:76</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_aff822ffdf50b487116c496b12bf54c22"><div class="ttname"><a href="group__icubclient__SAM__Core.html#aff822ffdf50b487116c496b12bf54c22">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.falseCount</a></div><div class="ttdeci">falseCount</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00088">interactionSAMModel.py:88</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a3155f404cb8924f6d4261851607152f4"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a3155f404cb8924f6d4261851607152f4">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.probClassList</a></div><div class="ttdeci">probClassList</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00110">interactionSAMModel.py:110</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_ae14efe16279475b432ce0b97acfdb854"><div class="ttname"><a href="group__icubclient__SAM__Core.html#ae14efe16279475b432ce0b97acfdb854">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.listOfModels</a></div><div class="ttdeci">listOfModels</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00072">interactionSAMModel.py:72</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_ae12b4f78693e01bfc895e1474badcaf7"><div class="ttname"><a href="group__icubclient__SAM__Core.html#ae12b4f78693e01bfc895e1474badcaf7">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.classifyInstance</a></div><div class="ttdeci">def classifyInstance(self, reply)</div><div class="ttdoc">Classify a live collected data instance. </div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00435">interactionSAMModel.py:435</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_acc08725721d5710d5a79f9e35cb3176f"><div class="ttname"><a href="group__icubclient__SAM__Core.html#acc08725721d5710d5a79f9e35cb3176f">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.closeFlag</a></div><div class="ttdeci">closeFlag</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00095">interactionSAMModel.py:95</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a0b57d46fe28374550611fef9baf0d8be"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a0b57d46fe28374550611fef9baf0d8be">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.callSignList</a></div><div class="ttdeci">callSignList</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00077">interactionSAMModel.py:77</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a2c2092f9317c584074b50324a8cd27a2"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a2c2092f9317c584074b50324a8cd27a2">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.recordingFile</a></div><div class="ttdeci">recordingFile</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00100">interactionSAMModel.py:100</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_aa65ee265739e5579309c97da6c7de903"><div class="ttname"><a href="group__icubclient__SAM__Core.html#aa65ee265739e5579309c97da6c7de903">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.collectionMethod</a></div><div class="ttdeci">collectionMethod</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00085">interactionSAMModel.py:85</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_ade7adabbdbdea6d892a1f9bea3dcbe16"><div class="ttname"><a href="group__icubclient__SAM__Core.html#ade7adabbdbdea6d892a1f9bea3dcbe16">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.modelRoot</a></div><div class="ttdeci">modelRoot</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00106">interactionSAMModel.py:106</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_ac424070b058a3b7940ffaba26aee3886"><div class="ttname"><a href="group__icubclient__SAM__Core.html#ac424070b058a3b7940ffaba26aee3886">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.classificationList</a></div><div class="ttdeci">classificationList</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00094">interactionSAMModel.py:94</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_classSAM_1_1SAM__Core_1_1interactionSAMModel_1_1interactionSAMModel"><div class="ttname"><a href="group__icubclient__SAM__Core.html#classSAM_1_1SAM__Core_1_1interactionSAMModel_1_1interactionSAMModel">SAM.SAM_Core.interactionSAMModel.interactionSAMModel</a></div><div class="ttdoc">Generic interaction function. </div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00054">interactionSAMModel.py:54</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_ab5347106cc5a047fb54e41cd2488df88"><div class="ttname"><a href="group__icubclient__SAM__Core.html#ab5347106cc5a047fb54e41cd2488df88">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.generateInstance</a></div><div class="ttdeci">def generateInstance(self, reply, instanceName)</div><div class="ttdoc">Responds to an ask_X_instance request. </div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00584">interactionSAMModel.py:584</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a8da51397e44007d43ddda273de7adeba"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a8da51397e44007d43ddda273de7adeba">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.baseLogFileName</a></div><div class="ttdeci">baseLogFileName</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00104">interactionSAMModel.py:104</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_ae3d620854e90abd0e9e10c1163a33d03"><div class="ttname"><a href="group__icubclient__SAM__Core.html#ae3d620854e90abd0e9e10c1163a33d03">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.verbose</a></div><div class="ttdeci">verbose</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00070">interactionSAMModel.py:70</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a5223c26a15959609dd0e19972ad42a05"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a5223c26a15959609dd0e19972ad42a05">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.outputType</a></div><div class="ttdeci">outputType</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00091">interactionSAMModel.py:91</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_aa0fc9a5edd3a85aeaaf40eb798270c91"><div class="ttname"><a href="group__icubclient__SAM__Core.html#aa0fc9a5edd3a85aeaaf40eb798270c91">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.instancePortName</a></div><div class="ttdeci">instancePortName</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00096">interactionSAMModel.py:96</a></div></div>
<div class="ttc" id="namespaceSAM_1_1SAM__Core_1_1SAM__utils_html"><div class="ttname"><a href="namespaceSAM_1_1SAM__Core_1_1SAM__utils.html">SAM.SAM_Core.SAM_utils</a></div><div class="ttdef"><b>Definition:</b> <a href="SAM__utils_8py_source.html#l00001">SAM_utils.py:1</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a426a489d4b25536db51228b0049cca03"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a426a489d4b25536db51228b0049cca03">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.closePort</a></div><div class="ttdeci">def closePort(self, j)</div><div class="ttdoc">Helper function to close ports with an enforced timeout of 3 seconds so the module doesn&amp;#39;t hang...</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00316">interactionSAMModel.py:316</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a3aff97bed4196bbddc9fd5373e5b6572"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a3aff97bed4196bbddc9fd5373e5b6572">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.classif_thresh</a></div><div class="ttdeci">classif_thresh</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00069">interactionSAMModel.py:69</a></div></div>
<div class="ttc" id="group__icubclient__SAM__utils_html_classSAM_1_1SAM__Core_1_1SAM__utils_1_1timeout"><div class="ttname"><a href="group__icubclient__SAM__utils.html#classSAM_1_1SAM__Core_1_1SAM__utils_1_1timeout">SAM.SAM_Core.SAM_utils.timeout</a></div><div class="ttdoc">Class to terminate a function running inside of a separate thread. </div><div class="ttdef"><b>Definition:</b> <a href="SAM__utils_8py_source.html#l00449">SAM_utils.py:449</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_afe76d176df27121b598fc982e8275f9d"><div class="ttname"><a href="group__icubclient__SAM__Core.html#afe76d176df27121b598fc982e8275f9d">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.svPort</a></div><div class="ttdeci">svPort</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00074">interactionSAMModel.py:74</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a6fcd3a9941a5393ad102403a44f3fafe"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a6fcd3a9941a5393ad102403a44f3fafe">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.verboseSetting</a></div><div class="ttdeci">verboseSetting</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00098">interactionSAMModel.py:98</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a9ef9e1183bf8a3e120740d24849ffb20"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a9ef9e1183bf8a3e120740d24849ffb20">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.portsList</a></div><div class="ttdeci">portsList</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00073">interactionSAMModel.py:73</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_afedcc2b571e3d28ec7ca7757fcb4a4f3"><div class="ttname"><a href="group__icubclient__SAM__Core.html#afedcc2b571e3d28ec7ca7757fcb4a4f3">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.my_mutex</a></div><div class="ttdeci">my_mutex</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00113">interactionSAMModel.py:113</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_aefd2521f4907384cca0669d37e274bf9"><div class="ttname"><a href="group__icubclient__SAM__Core.html#aefd2521f4907384cca0669d37e274bf9">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.eventPort</a></div><div class="ttdeci">eventPort</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00107">interactionSAMModel.py:107</a></div></div>
<div class="ttc" id="namespaceSAM_1_1SAM__Core_html"><div class="ttname"><a href="namespaceSAM_1_1SAM__Core.html">SAM.SAM_Core</a></div><div class="ttdef"><b>Definition:</b> <a href="SAM__Core_2____init_____8py_source.html#l00001">__init__.py:1</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_aa72f478cad3de6494731fa172c5a3105"><div class="ttname"><a href="group__icubclient__SAM__Core.html#aa72f478cad3de6494731fa172c5a3105">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.test</a></div><div class="ttdeci">def test(self)</div><div class="ttdoc">Utility function to test data collection procedures for debugging purposes. </div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00824">interactionSAMModel.py:824</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a82dd0a034854d247905f2fae4088ad2c"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a82dd0a034854d247905f2fae4088ad2c">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.getPeriod</a></div><div class="ttdeci">def getPeriod(self)</div><div class="ttdoc">Module refresh rate. </div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00651">interactionSAMModel.py:651</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a7c5959add4bb1c8f9260b6f5bf51a1e0"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a7c5959add4bb1c8f9260b6f5bf51a1e0">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.windowedMode</a></div><div class="ttdeci">windowedMode</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00105">interactionSAMModel.py:105</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a97ea2937e50e68feab403a979204e8a4"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a97ea2937e50e68feab403a979204e8a4">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.outputBottle</a></div><div class="ttdeci">outputBottle</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00079">interactionSAMModel.py:79</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_ac61db7ca04e5e86639c0413b14421c64"><div class="ttname"><a href="group__icubclient__SAM__Core.html#ac61db7ca04e5e86639c0413b14421c64">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.readFrame</a></div><div class="ttdeci">def readFrame(self)</div><div class="ttdoc">Logic to read an available data frame. </div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00700">interactionSAMModel.py:700</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a361189f961666e44956dee3684914f52"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a361189f961666e44956dee3684914f52">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.dataList</a></div><div class="ttdeci">dataList</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00093">interactionSAMModel.py:93</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a33f8e0aa04bf9264676f2e6eba2f5922"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a33f8e0aa04bf9264676f2e6eba2f5922">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.inputType</a></div><div class="ttdeci">inputType</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00090">interactionSAMModel.py:90</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a53675bd6e61e6ec79f10fcac34a5f56c"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a53675bd6e61e6ec79f10fcac34a5f56c">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.model_mode</a></div><div class="ttdeci">model_mode</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00066">interactionSAMModel.py:66</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a5762ec3d1b75e0f9ad561eab86018512"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a5762ec3d1b75e0f9ad561eab86018512">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.updateModule</a></div><div class="ttdeci">def updateModule(self)</div><div class="ttdoc">Logic to execute every getPeriod() seconds. </div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00662">interactionSAMModel.py:662</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_aa76f42e385f30b4d01cd79d47e778823"><div class="ttname"><a href="group__icubclient__SAM__Core.html#aa76f42e385f30b4d01cd79d47e778823">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.exitFlag</a></div><div class="ttdeci">exitFlag</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00099">interactionSAMModel.py:99</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a10f27e1c0c559edf3e302034e81bd564"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a10f27e1c0c559edf3e302034e81bd564">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.inputBottle</a></div><div class="ttdeci">inputBottle</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00078">interactionSAMModel.py:78</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Core_html_a5754ddc0800efbeace6122a1954cea09"><div class="ttname"><a href="group__icubclient__SAM__Core.html#a5754ddc0800efbeace6122a1954cea09">SAM.SAM_Core.interactionSAMModel.interactionSAMModel.errorRate</a></div><div class="ttdeci">errorRate</div><div class="ttdef"><b>Definition:</b> <a href="interactionSAMModel_8py_source.html#l00092">interactionSAMModel.py:92</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 19 2020 23:45:26 for icub-client by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
