<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>icub-client: /home/travis/build/robotology/icub-hri/src/modules/SAM/SAM_Drivers/SAMDriver_ARWin.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">icub-client
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ddb4d7e95cc2d6c8e1ade10a20d7247d.html">modules</a></li><li class="navelem"><a class="el" href="dir_c58165d7c2f326e33de0f6c7df0ba009.html">SAM</a></li><li class="navelem"><a class="el" href="dir_466197e82a483e2aabb3cf83f5f19b9d.html">SAM_Drivers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SAMDriver_ARWin.py</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SAMDriver__ARWin_8py.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespaceSAM_1_1SAM__Drivers_1_1SAMDriver__ARWin.html">    1</a></span>&#160;<span class="comment"># &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"># The University of Sheffield</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"># WYSIWYD Project</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"># A driver that implements Action Recognition</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"># Created on 10 April 2016</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"># @author: Daniel Camilleri, Andreas Damianou</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"># &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">from</span> os <span class="keyword">import</span> listdir</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">from</span> os.path <span class="keyword">import</span> isfile, join</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">import</span> copy</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">import</span> numpy</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">from</span> <a class="code" href="namespaceSAM_1_1SAM__Core.html">SAM.SAM_Core</a> <span class="keyword">import</span> SAMDriver</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">from</span> <a class="code" href="namespaceSAM_1_1SAM__Core.html">SAM.SAM_Core</a> <span class="keyword">import</span> SAMTesting</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">from</span> <a class="code" href="namespaceSAM_1_1SAM__Core.html">SAM.SAM_Core</a> <span class="keyword">import</span> SAM_utils <span class="keyword">as</span> utils</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">import</span> logging</div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="namespaceSAM_1_1SAM__Drivers_1_1SAMDriver__ARWin.html#ab15a8ecb0a106df6c3288bacf0ce0cbd">   21</a></span>&#160;np.set_printoptions(threshold=numpy.nan)</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">class </span><a class="code" href="group__icubclient__SAM__Drivers.html#classSAM_1_1SAM__Drivers_1_1SAMDriver__ARWin_1_1SAMDriver__ARWin">SAMDriver_ARWin</a>(<a class="code" href="group__icubclient__SAM__Drivers.html#classSAM_1_1SAM__Core_1_1SAMDriver_1_1SAMDriver">SAMDriver</a>):</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="stringliteral">    Class developed for the implementation of windowed real time action recognition.</span></div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html">   28</a></span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Drivers.html#a1d8d40aaf3d8688bb50f784c19615368">__init__</a>(self):</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="stringliteral">        Initialise class using SAMDriver.__init__ and augment with custom parameters.</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="stringliteral">        additionalParameterList is a list of extra parameters to preserve between training and interaction.</span></div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a1d8d40aaf3d8688bb50f784c19615368">   34</a></span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        SAMDriver.__init__(self)</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a56b2437f3700afce6363dd8510f6661b">   36</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a56b2437f3700afce6363dd8510f6661b">data</a> = dict()</div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#ab90cebf00ada98f96102c2b01b2ff970">   37</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#ab90cebf00ada98f96102c2b01b2ff970">numJoints</a> = 9</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a0795d275820675450a4ccc869e759958">   38</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a0795d275820675450a4ccc869e759958">dataLogList</a> = []</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a3d24d506bc292c1f8f53ebd903e6f0e3">   39</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a3d24d506bc292c1f8f53ebd903e6f0e3">labelsLogList</a> = []</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a9bca50058da592720fd710d2d6e3e1ec">   40</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a9bca50058da592720fd710d2d6e3e1ec">itemsPerJoint</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#accf604f68241cf3847a9f5d695710330">   41</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#accf604f68241cf3847a9f5d695710330">featureSequence</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#aa99dc23f32bb97a5dc615764f3812248">   42</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#aa99dc23f32bb97a5dc615764f3812248">handsCombined</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#ad9c274bfb069dd815c35b46d77bca9d1">   43</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#ad9c274bfb069dd815c35b46d77bca9d1">data2Labels</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a405e35ae705be4102f3e7cb2394f055f">   44</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a405e35ae705be4102f3e7cb2394f055f">dataVec</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a2c4032e4052b59a249bae791ee6a4ae8">   45</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a2c4032e4052b59a249bae791ee6a4ae8">allDataDict</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">   46</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a0dab1e97a70d82f72fe076df29b0e052">   47</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a0dab1e97a70d82f72fe076df29b0e052">seqTestConf</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a8d905b932fffa96aeeb19f121c225d66">   48</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a8d905b932fffa96aeeb19f121c225d66">seqTestPerc</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#ad699eb08f48f023fb5e0c744c9a4051e">   49</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#gaba1d7355c9842c5ea5881fc9926c06bf">additionalParametersList</a> = [<span class="stringliteral">&#39;listOfVectorsToClassify&#39;</span>, <span class="stringliteral">&#39;handsCombined&#39;</span>, <span class="stringliteral">&#39;featureSequence&#39;</span>, <span class="stringliteral">&#39;itemsPerJoint&#39;</span>,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                         <span class="stringliteral">&#39;segTrainConf&#39;</span>, <span class="stringliteral">&#39;segTrainPerc&#39;</span>, <span class="stringliteral">&#39;segTestConf&#39;</span>, <span class="stringliteral">&#39;segTestPerc&#39;</span>, <span class="stringliteral">&#39;seqTestConf&#39;</span>,</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                         <span class="stringliteral">&#39;seqTestPerc&#39;</span>]</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Drivers.html#a51c7b0fd9952b5cb0d347912ce12d14e">loadParameters</a>(self, parser, trainName):</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="stringliteral">            Function to load parameters from the model config.ini file.</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="stringliteral">            Method to load parameters from file loaded in parser from within section trainName and store these parameters in self.paramsDict.</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="stringliteral">        Args:</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="stringliteral">            parser: SafeConfigParser with pre-read config file.</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="stringliteral">            trainName: Section from which parameters are to be read.</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="stringliteral">        Returns:</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="stringliteral">            None</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a51c7b0fd9952b5cb0d347912ce12d14e">   65</a></span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;includeParts&#39;</span>):</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;includeParts&#39;</span>] = parser.get(trainName, <span class="stringliteral">&#39;includeParts&#39;</span>).split(<span class="stringliteral">&#39;,&#39;</span>)</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;includeParts&#39;</span>] = [j <span class="keywordflow">for</span> j <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;includeParts&#39;</span>] <span class="keywordflow">if</span> j != <span class="stringliteral">&#39;&#39;</span>]</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;includeParts&#39;</span>] = [<span class="stringliteral">&#39;object&#39;</span>]</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;actionsAllowedList&#39;</span>):</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;actionsAllowedList&#39;</span>] = parser.get(trainName, <span class="stringliteral">&#39;actionsAllowedList&#39;</span>).split(<span class="stringliteral">&#39;,&#39;</span>)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;actionsAllowedList&#39;</span>] = [<span class="stringliteral">&#39;lift_object&#39;</span>, <span class="stringliteral">&#39;pull_object&#39;</span>, <span class="stringliteral">&#39;push_object&#39;</span>, <span class="stringliteral">&#39;drop_object&#39;</span>,</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                                     <span class="stringliteral">&#39;carry_object&#39;</span>]</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;windowSize&#39;</span>):</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;windowSize&#39;</span>] = int(parser.get(trainName, <span class="stringliteral">&#39;windowSize&#39;</span>))</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;windowSize&#39;</span>] = 5</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;windowOffset&#39;</span>):</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;windowOffset&#39;</span>] = int(parser.get(trainName, <span class="stringliteral">&#39;windowOffset&#39;</span>))</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;windowOffset&#39;</span>] = 2</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;moveThresh&#39;</span>):</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;moveThresh&#39;</span>] = float(parser.get(trainName, <span class="stringliteral">&#39;moveThresh&#39;</span>))</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;moveThresh&#39;</span>] = 0.01</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;binWidth&#39;</span>):</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;binWidth&#39;</span>] = float(parser.get(trainName, <span class="stringliteral">&#39;binWidth&#39;</span>))</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;binWidth&#39;</span>] = 0.001</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;method&#39;</span>):</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;method&#39;</span>] = parser.get(trainName, <span class="stringliteral">&#39;method&#39;</span>)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;method&#39;</span>] = <span class="stringliteral">&#39;sumProb&#39;</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;combineHands&#39;</span>):</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;combineHands&#39;</span>] = parser.get(trainName, <span class="stringliteral">&#39;combineHands&#39;</span>) == <span class="stringliteral">&#39;True&#39;</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;combineHands&#39;</span>] = <span class="keyword">False</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;thresholdMovement&#39;</span>):</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;thresholdMovement&#39;</span>] = parser.get(trainName, <span class="stringliteral">&#39;thresholdMovement&#39;</span>) == <span class="stringliteral">&#39;True&#39;</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;thresholdMovement&#39;</span>] = <span class="keyword">False</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;sepRL&#39;</span>):</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;sepRL&#39;</span>] = parser.get(trainName, <span class="stringliteral">&#39;sepRL&#39;</span>) == <span class="stringliteral">&#39;True&#39;</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;sepRL&#39;</span>] = <span class="keyword">False</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;filterData&#39;</span>):</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;filterData&#39;</span>] = parser.get(trainName, <span class="stringliteral">&#39;filterData&#39;</span>) == <span class="stringliteral">&#39;True&#39;</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;filterData&#39;</span>] = <span class="keyword">False</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;filterWindow&#39;</span>):</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;filterWindow&#39;</span>] = int(parser.get(trainName, <span class="stringliteral">&#39;filterWindow&#39;</span>))</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;filterWindow&#39;</span>] = 5</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;components&#39;</span>):</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;components&#39;</span>] = parser.get(trainName, <span class="stringliteral">&#39;components&#39;</span>).split(<span class="stringliteral">&#39;,&#39;</span>)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;components&#39;</span>] = [<span class="stringliteral">&#39;pos&#39;</span>]</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;reduce&#39;</span>):</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;reduce&#39;</span>] = parser.get(trainName, <span class="stringliteral">&#39;reduce&#39;</span>) == <span class="stringliteral">&#39;True&#39;</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;reduce&#39;</span>] = <span class="keyword">False</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;flip&#39;</span>):</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;flip&#39;</span>] = parser.get(trainName, <span class="stringliteral">&#39;flip&#39;</span>) == <span class="stringliteral">&#39;True&#39;</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;flip&#39;</span>] = <span class="keyword">False</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">if</span> parser.has_option(trainName, <span class="stringliteral">&#39;normaliseWindow&#39;</span>):</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;normaliseWindow&#39;</span>] = parser.get(trainName, <span class="stringliteral">&#39;normaliseWindow&#39;</span>) == <span class="stringliteral">&#39;True&#39;</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;normaliseWindow&#39;</span>] = <span class="keyword">False</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Drivers.html#a12a86e98b3d5335ef56bcd3f6d048f81">saveParameters</a>(self):</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="stringliteral">        Override SAMDriver.saveParameters.</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="stringliteral">        This function adds items of additionalParametersList to paramsDict to be saved.</span></div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a12a86e98b3d5335ef56bcd3f6d048f81">  153</a></span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#gaba1d7355c9842c5ea5881fc9926c06bf">additionalParametersList</a>:</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            commandString = <span class="stringliteral">&#39;self.paramsDict[\&#39;&#39;</span> + j + <span class="stringliteral">&#39;\&#39;] = self.&#39;</span> + j</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="keywordflow">try</span>:</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                logging.info(str(commandString))</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                exec commandString</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordflow">except</span>:</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="keywordflow">pass</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Drivers.html#a9e07c7922ed5de8fed5ec837d191743f">testPerformance</a>(self, testModel, Yall, Lall, YtestAll, LtestAll, verbose):</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="stringliteral">        Custom testPerformance method. This augments the standard testPerformance method by including testing of known and unknown together with testing on known training points and known testing points.</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="stringliteral">        Args:</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="stringliteral">            testModel : SAMObject Model to be tested.</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="stringliteral">            Yall : Numpy array with training data vectors to be tested.</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="stringliteral">            Lall : List with corresponding training data labels.</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="stringliteral">            YtestAll : Numpy array with testing data vectors to be tested.</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="stringliteral">            LtestAll : List with corresponding testing data labels.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="stringliteral">            verbose : Boolean turning logging to stdout on or off.</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="stringliteral">        Returns:</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="stringliteral">             Square numpy array confusion matrix.</span></div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a9e07c7922ed5de8fed5ec837d191743f">  176</a></span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        yTrainingData = SAMTesting.formatDataFunc(Yall)</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        [self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga510653c29b923373a47faf252919d6cb">segTrainConf</a>, self.<a class="code" href="group__icubclient__SAM__Drivers.html#gaf7748998c4b4347aaac0df1cc38a830c">segTrainPerc</a>, labelsSegTrain, labelComparisonDict] = \</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            SAMTesting.testSegments(testModel, yTrainingData, Lall, verbose, <span class="stringliteral">&#39;Training&#39;</span>)</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        yTrainingData = SAMTesting.formatDataFunc(YtestAll)</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        [self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga11f7d1112da1490998b9878d212d6255">segTestConf</a>, self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga0cbeb9209124fba55cb56c5de40b7a63">segTestPerc</a>, labelsSegTest, labelComparisonDict] = \</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            SAMTesting.testSegments(testModel, yTrainingData, LtestAll, verbose, <span class="stringliteral">&#39;Testing&#39;</span>)</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="comment"># yTrainingData = SAMTesting.formatDataFunc(self.allDataDict[&#39;Y&#39;])</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="comment"># [self.seqTestConf, self.seqTestPerc, labelsSeqTest, _] = SAMTesting.testSegments(testModel, yTrainingData,</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="comment">#                                                                self.allDataDict[&#39;L&#39;], verbose, &#39;All&#39;)</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga11f7d1112da1490998b9878d212d6255">segTestConf</a>, labelsSegTest, labelComparisonDict</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Drivers.html#abfdb7d58b7dde75f1e9dfdbd1c053264">diskDataToLiveData</a>(self, root_data_dir):</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="stringliteral">            This method reads in time series data from disk for SAMDriver_ARWin.</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="stringliteral">            Returns:</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="stringliteral">                list of strings with raw data and list of strings with ground truth classifications.</span></div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#abfdb7d58b7dde75f1e9dfdbd1c053264">  198</a></span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        onlyfiles = [f <span class="keywordflow">for</span> f <span class="keywordflow">in</span> listdir(root_data_dir) <span class="keywordflow">if</span> isfile(join(root_data_dir, f))]</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        dataLogList = [f <span class="keywordflow">for</span> f <span class="keywordflow">in</span> onlyfiles <span class="keywordflow">if</span> <span class="stringliteral">&#39;data&#39;</span> <span class="keywordflow">in</span> f]</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        dataLogList.sort()</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        labelsLogList = [f <span class="keywordflow">for</span> f <span class="keywordflow">in</span> onlyfiles <span class="keywordflow">if</span> <span class="stringliteral">&#39;label&#39;</span> <span class="keywordflow">in</span> f]</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        labelsLogList.sort()</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        rawLabelList = []</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        rawDataList = []</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        logging.info(<span class="stringliteral">&#39;loading data from files&#39;</span>)</div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#ae0bdb001bbc956edc2bb1e8f5f1e3093">  208</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga34a0d852321cad5abdc8fd4d514e60fa">rawTextData</a> = []</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(len(dataLogList)):</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            logging.info(<span class="stringliteral">&#39;data file: &#39;</span> + str(join(root_data_dir, dataLogList[k])))</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            logging.info(<span class="stringliteral">&#39;model file: &#39;</span> + str(join(root_data_dir, labelsLogList[k])))</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            logging.info(<span class="stringliteral">&#39;&#39;</span>)</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            dataFile = open(join(root_data_dir, dataLogList[k]), <span class="stringliteral">&#39;r&#39;)</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="stringliteral">            self.<a class="code" href="group__icubclient__SAM__Drivers.html#a0795d275820675450a4ccc869e759958">dataLogList</a>.append(str(join(root_data_dir, dataLogList[k])))</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="stringliteral">            labelFile = open(join(root_data_dir, labelsLogList[k]), &#39;r&#39;)</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="stringliteral">            self.<a class="code" href="group__icubclient__SAM__Drivers.html#a3d24d506bc292c1f8f53ebd903e6f0e3">labelsLogList</a>.append(join(root_data_dir, labelsLogList[k]))</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="stringliteral">            </span><span class="comment"># number of lines in dataFile</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordflow">for</span> i, l <span class="keywordflow">in</span> enumerate(dataFile):</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                <span class="keywordflow">pass</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            lenDataFile = i + 1</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="comment"># number of lines in labelFile</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">for</span> i, l <span class="keywordflow">in</span> enumerate(labelFile):</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <span class="keywordflow">pass</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            lenLabelFile = i + 1</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            dataFile.close()</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            labelFile.close()</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">if</span> lenLabelFile != lenDataFile:</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                logging.warning(str(dataLogList[k]) + <span class="stringliteral">&#39; will not be used because its length differs from &#39;</span> +</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                str(labelsLogList[k]))</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                dataFile = open(join(root_data_dir, dataLogList[k]), <span class="stringliteral">&#39;r&#39;)</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="stringliteral">                labelFile = open(join(root_data_dir, labelsLogList[k]), &#39;r&#39;)</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="stringliteral">                windows = lenDataFile // self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[&#39;windowSize&#39;</span>]</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <span class="keywordflow">for</span> curr <span class="keywordflow">in</span> range(windows*self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;windowSize&#39;</span>]):</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    line = dataFile.readline()</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    labelLine = labelFile.readline()</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga34a0d852321cad5abdc8fd4d514e60fa">rawTextData</a>.append(line)</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    <span class="comment"># check data line</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    t, goAhead = self.<a class="code" href="group__icubclient__SAM__Drivers.html#a3efad08324380997a894dd960a302bc2">messageChecker</a>(line, <span class="stringliteral">&#39;testing&#39;</span>)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    <span class="comment"># check label line</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    v = labelLine.split(<span class="stringliteral">&#39; &#39;</span>)[2].replace(<span class="stringliteral">&#39;\n&#39;</span>, <span class="stringliteral">&#39;&#39;</span>).replace(<span class="stringliteral">&#39;(&#39;</span>, <span class="stringliteral">&#39;&#39;</span>).replace(<span class="stringliteral">&#39;)&#39;</span>, <span class="stringliteral">&#39;&#39;</span>)</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    <span class="keywordflow">if</span> v == <span class="stringliteral">&#39;&#39;</span>:</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                        v = <span class="stringliteral">&#39;unknown&#39;</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                    <span class="keywordflow">if</span> goAhead:</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                        rawDataList.append(t)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                        rawLabelList.append(v)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                        logging.error(<span class="stringliteral">&#39;messageChecker returned Fail&#39;</span>)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                dataFile.close()</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                labelFile.close()</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">return</span> rawDataList, rawLabelList</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Drivers.html#adf0a2c86e4fb05deaee70ffbd212db57">convertToDict</a>(self, rawData, mode, verbose):</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="stringliteral">        Convert list of strings time series to dictionary with joints and objects as different items of the dictionary and windows of positions for each joint.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="stringliteral">        Args:</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="stringliteral">            rawData: List of strings read in from files.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="stringliteral">            mode: `&#39;testing&#39;` or `&#39;live&#39;`. `&#39;testing&#39;` will format strings read from file. `&#39;live&#39;` will format strings received via Yarp during interaction.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="stringliteral">            verbose: Switch logging to stdout on or off.</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="stringliteral">        Returns:</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="stringliteral">            Dictionary with the windowed data, list of joints present in dictionary items, list of objects present in dictionary items.</span></div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#adf0a2c86e4fb05deaee70ffbd212db57">  272</a></span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        data = dict()</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        firstPass = <span class="keyword">True</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        jointsList = []</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        objectsList = []</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="comment"># logging.info(&#39;*******************&#39;)</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="comment"># for j in self.paramsDict:</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="comment">#     logging.info(j, self.paramsDict[j]</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="comment"># logging.info(&#39;*******************&#39;)</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">for</span> t <span class="keywordflow">in</span> rawData:</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="comment"># parse skeleton data which has 9 sections by (x,y,z)</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.<a class="code" href="group__icubclient__SAM__Drivers.html#ab90cebf00ada98f96102c2b01b2ff970">numJoints</a>):</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                a = i * 4</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                <span class="comment"># if t[a] == &#39;shoulderCenter&#39;:</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                <span class="comment">#     t[a] = &#39;chest&#39;</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <span class="keywordflow">if</span> firstPass:</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                    data[t[a]] = [<span class="keywordtype">None</span>]</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    data[t[a]] = (np.array([float(t[a + 1]), float(t[a + 2]), float(t[a + 3])]))</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                    jointsList.append(t[a])</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    arr = np.array([float(t[a + 1]), float(t[a + 2]), float(t[a + 3])])</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    <span class="keywordflow">if</span> data[t[a]] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        data[t[a]] = np.vstack((data[t[a]], arr))</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                        data[t[a]] = arr</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            currIdx = (self.<a class="code" href="group__icubclient__SAM__Drivers.html#ab90cebf00ada98f96102c2b01b2ff970">numJoints</a> * 4 - 1)</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            numObjs = (len(t) - currIdx) / 5</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(numObjs):</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                a = currIdx + 1 + (i * 5)</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keywordflow">if</span> t[a] <span class="keywordflow">in</span> data:</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    arr = np.array([float(t[a + 1]), float(t[a + 2]), float(t[a + 3])])</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                    <span class="keywordflow">if</span> data[t[a]] <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                        data[t[a]] = np.vstack((data[t[a]], arr))</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                        data[t[a]] = arr</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    data[t[a]] = [<span class="keywordtype">None</span>]</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    data[t[a]] = np.array([float(t[a + 1]), float(t[a + 2]), float(t[a + 3])])</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    <span class="keywordflow">if</span> mode == <span class="stringliteral">&#39;testing&#39;</span> <span class="keywordflow">or</span> (mode != <span class="stringliteral">&#39;testing&#39;</span> <span class="keywordflow">and</span> t[a+4] == <span class="stringliteral">&#39;1&#39;</span>):</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                        objectsList.append(t[a])</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            firstPass = <span class="keyword">False</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">if</span> verbose:</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            logging.info(<span class="stringliteral">&#39;data has length = &#39;</span> + str(len(data)) + <span class="stringliteral">&#39; joints&#39;</span>)</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            logging.info(<span class="stringliteral">&#39;each joint has an array of shape &#39;</span> + str(data[<span class="stringliteral">&#39;head&#39;</span>].shape))</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;filterData&#39;</span>] <span class="keywordflow">or</span> <span class="stringliteral">&#39;vel&#39;</span> <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;components&#39;</span>] <span class="keywordflow">or</span> \</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                            <span class="stringliteral">&#39;acc&#39;</span> <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;components&#39;</span>]:</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">if</span> verbose:</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                logging.info(<span class="stringliteral">&#39;Filtering data with hamming window of size &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;filterWindow&#39;</span>]))</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordflow">for</span> j <span class="keywordflow">in</span> data.keys():</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                t1 = utils.smooth1D(data[j][:, 0], self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;filterWindow&#39;</span>])</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                t2 = utils.smooth1D(data[j][:, 1], self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;filterWindow&#39;</span>])</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                t3 = utils.smooth1D(data[j][:, 2], self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;filterWindow&#39;</span>])</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                data[j] = np.hstack([t1[:, <span class="keywordtype">None</span>], t2[:, <span class="keywordtype">None</span>], t3[:, <span class="keywordtype">None</span>]])</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">if</span> verbose:</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            logging.info(<span class="stringliteral">&#39;data has length = &#39;</span> + str(len(data)) + <span class="stringliteral">&#39; joints&#39;</span>)</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            logging.info(<span class="stringliteral">&#39;each joint has an array of shape &#39;</span> + str(data[<span class="stringliteral">&#39;head&#39;</span>].shape))</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="comment"># convert data and number labels into windows.</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="comment"># data is still in the form of a dictionary with the joints/objects as keys of the dict</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="comment"># Text labels contained in labels</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">if</span> verbose:</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            logging.info(<span class="stringliteral">&#39;&#39;</span>)</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        noY = mode != <span class="stringliteral">&#39;testing&#39;</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">if</span> mode == <span class="stringliteral">&#39;testing&#39;</span>:</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            offset = self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;windowOffset&#39;</span>]</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            offset = 1</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        data2 = dict()</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        printExplanation = <span class="keyword">True</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">for</span> num, key <span class="keywordflow">in</span> enumerate(data):</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            data2[key] = <span class="keywordtype">None</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            xx, yy = utils.transformTimeSeriesToSeq(data[key], timeWindow=self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;windowSize&#39;</span>],</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                                                    offset=offset,</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                                    normalised=self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;normaliseWindow&#39;</span>],</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                                                    reduced=self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;reduce&#39;</span>], noY=noY)</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;thresholdMovement&#39;</span>] <span class="keywordflow">or</span> <span class="stringliteral">&#39;vel&#39;</span> <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;components&#39;</span>] <span class="keywordflow">or</span> <span class="stringliteral">&#39;acc&#39;</span> <span class="keywordflow">in</span> \</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;components&#39;</span>]:</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                winSize = xx.shape[1] / 3</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                g = xx.size / winSize</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                xxshape1 = xx.shape[0]</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                xxshape2 = xx.shape[1]</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                flatxx = xx.flatten()</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                f = flatxx.reshape([g, winSize])</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                xx = f.reshape([xxshape1, xxshape2])</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;thresholdMovement&#39;</span>]:</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    <span class="keywordflow">if</span> printExplanation <span class="keywordflow">and</span> verbose:</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                        logging.info(<span class="stringliteral">&#39;thresholding movement &lt;&#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;moveThresh&#39;</span>]))</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                    ranges = np.ptp(f, axis=1)</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    a = ranges &lt; self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;moveThresh&#39;</span>]</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                    b = ranges &gt; -self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;moveThresh&#39;</span>]</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                    res = list(np.where(np.logical_and(a, b))[0])</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;normaliseWindow&#39;</span>]:</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                        f[res] = 0</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                        <span class="keywordflow">for</span> ll <span class="keywordflow">in</span> res:</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                            f[ll] = f[ll][0]</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <span class="keywordflow">if</span> <span class="stringliteral">&#39;vel&#39;</span> <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;components&#39;</span>]:</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                    <span class="keywordflow">if</span> printExplanation <span class="keywordflow">and</span> verbose:</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                        logging.info(<span class="stringliteral">&#39;Adding velocity to the feature vector&#39;</span>)</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                    xxvel = np.diff(f)</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                    xxvel = xxvel.reshape([xxshape1, xxshape2 - 3])</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    xx = np.hstack([xx, xxvel])</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                <span class="keywordflow">if</span> <span class="stringliteral">&#39;acc&#39;</span> <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;components&#39;</span>]:</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                    <span class="keywordflow">if</span> printExplanation <span class="keywordflow">and</span> verbose:</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                        logging.info(<span class="stringliteral">&#39;Adding acceleration to the feature vector&#39;</span>)</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                    xxacc = np.diff(f, n=2)</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    xxacc = xxacc.reshape([xxshape1, xxshape2 - 6])</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                    xx = np.hstack([xx, xxacc])</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            data2[key] = xx</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            printExplanation = <span class="keyword">False</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">if</span> verbose:</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            logging.info(<span class="stringliteral">&#39;data has length = &#39;</span> + str(len(data2)) + <span class="stringliteral">&#39; joints&#39;</span>)</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            logging.info(<span class="stringliteral">&#39;each joint has an array of shape &#39;</span> + str(data2[<span class="stringliteral">&#39;head&#39;</span>].shape))</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">return</span> data2, jointsList, objectsList</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Drivers.html#afc5f853cfede70ba59eadee2277a9e6c">readData</a>(self, root_data_dir, participant_index, *args, **kw):</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="stringliteral">            Method which accepts a data directory, reads all the data in and outputs self.Y which is a numpy array with n instances of m length feature vectors and self.L which is a list of text Labels of length n.</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="stringliteral">            This method reads data&lt;number&gt;.log files and the corresponding labels&lt;number&gt;.log files present in the root_data_dir and formats the time series data into normalised and smoothed windows. Subsequently depending on the list of joints chosen by the user and other parameters set in the config file present in the root_data_dir, the information of the different joints and objects are appended into a single feature vector. Number of feature vectors is equal to the number of windows extracted from the time series data.</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="stringliteral">            Args:</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="stringliteral">                root_data_dir: Data directory.</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="stringliteral">                participant_index: List of subfolders to consider. Can be left as an empty list.</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="stringliteral">            Returns:</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="stringliteral">                None</span></div><div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#afc5f853cfede70ba59eadee2277a9e6c">  417</a></span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga7e5bd4edc32a108d5641cf7343887b6c">rawData</a>, labelsList = self.<a class="code" href="group__icubclient__SAM__Drivers.html#abfdb7d58b7dde75f1e9dfdbd1c053264">diskDataToLiveData</a>(root_data_dir)</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        data2, jointsList, objectsList = self.<a class="code" href="group__icubclient__SAM__Drivers.html#adf0a2c86e4fb05deaee70ffbd212db57">convertToDict</a>(self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga7e5bd4edc32a108d5641cf7343887b6c">rawData</a>, <span class="stringliteral">&#39;testing&#39;</span>, verbose=self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga48cfefc6532ba606936b9fd7f3156da8">verbose</a>)</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        logging.info(<span class="stringliteral">&#39;unique labels&#39;</span> + str(set(labelsList)))</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="comment"># extract a set of labels</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        labels = list(set(labelsList))</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        labels.sort()</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        logging.info(<span class="stringliteral">&#39;&#39;</span>)</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="comment"># convert text labels into numbers</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        labelNumsList = <span class="keywordtype">None</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">for</span> n, k <span class="keywordflow">in</span> enumerate(labelsList):</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            res = [m <span class="keywordflow">for</span> m, l <span class="keywordflow">in</span> enumerate(labels) <span class="keywordflow">if</span> l == k]</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="keywordflow">if</span> n == 0:</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                labelNumsList = np.array(res)</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                labelNumsList = np.vstack([labelNumsList, res])</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        logging.info(<span class="stringliteral">&#39;shape of number labels:&#39;</span> +str(labelNumsList.shape))</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        uu, tmp = utils.transformTimeSeriesToSeq(labelNumsList, self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;windowSize&#39;</span>],</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                                 self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;windowOffset&#39;</span>], <span class="keyword">False</span>, <span class="keyword">False</span>)</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        data2NumLabels = uu</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        logging.info(<span class="stringliteral">&#39;windowed number labels shape:&#39;</span> + str(data2NumLabels.shape))</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="comment"># now that labels are in windowed form it is time to</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="comment"># assign them a text label again that describes them</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="comment"># the rule here is if the window appertains to the same label,</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="comment"># that label is assigned otherwise it is labelled as transition</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        data2Labels = []</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> data2NumLabels:</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            numItems = list(set(j))</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="keywordflow">if</span> len(numItems) == 1:</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                l = labels[int(numItems[0])]</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                data2Labels.append(l)</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                <span class="comment"># Another way to do this would be to label it according to 75% majority</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <span class="comment"># This would decrease the region size of the transition blocks</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                <span class="comment"># which are currently dependant on windowSize</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                data2Labels.append(<span class="stringliteral">&#39;transition&#39;</span>)</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        logging.info(<span class="stringliteral">&#39;after transition unique set &#39;</span> + str(set(data2Labels)))</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        logging.info(<span class="stringliteral">&#39;windowed data labels compressed: &#39;</span> + str(len(data2Labels)))</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        logging.info(<span class="stringliteral">&#39;&#39;</span>)</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="comment"># create list of specific joints to be used</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        jointsToUse = []</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        objectDict = dict()</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        handDict = dict()</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;includeParts&#39;</span>]:</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <span class="keywordflow">if</span> j == <span class="stringliteral">&#39;object&#39;</span>:</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                <span class="keywordflow">for</span> k <span class="keywordflow">in</span> objectsList:</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                    <span class="keywordflow">if</span> k != <span class="stringliteral">&#39;partner&#39;</span>:</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                        objectDict[k] = (len(jointsToUse))</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                        jointsToUse.append(k)</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">elif</span> <span class="stringliteral">&#39;hand&#39;</span> <span class="keywordflow">in</span> j:</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                handDict[j] = (len(jointsToUse))</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                jointsToUse.append(j)</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                jointsToUse.append(j)</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        combineObjects = len(objectDict) &gt; 1</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        combineHands = len(handDict) &gt; 1</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        logging.info(jointsToUse)</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        logging.info(objectDict)</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        logging.info(handDict)</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="comment"># concatenate data for all joints in a single vector</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        logging.info(<span class="stringliteral">&#39;&#39;</span>)</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        dataVecAll = <span class="keywordtype">None</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> jointsToUse:</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="keywordflow">if</span> dataVecAll <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                dataVecAll = data2[j]</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                dataVecAll = np.hstack([dataVecAll, data2[j]])</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        itemsPerJoint = dataVecAll.shape[1] / len(jointsToUse)</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        logging.info(dataVecAll.shape)</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        logging.info(itemsPerJoint)</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a9bca50058da592720fd710d2d6e3e1ec">itemsPerJoint</a> = itemsPerJoint</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        logging.info(<span class="stringliteral">&#39;&#39;</span>)</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="comment"># ------------------------------------------------------------------</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="comment"># it is now time to combine objects if multiple exist</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="comment">#</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        logging.info(<span class="stringliteral">&#39;&#39;</span>)</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#accf604f68241cf3847a9f5d695710330">featureSequence</a> = []</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        combinedObjs = dict()</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">if</span> combineObjects <span class="keywordflow">and</span> <span class="stringliteral">&#39;object&#39;</span> <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;includeParts&#39;</span>]:</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#accf604f68241cf3847a9f5d695710330">featureSequence</a>.append(<span class="stringliteral">&#39;object&#39;</span>)</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            logging.info(<span class="stringliteral">&#39;Combining Objects&#39;</span>)</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            <span class="keywordflow">for</span> n <span class="keywordflow">in</span> objectDict:</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                idxBase = objectDict[n] * itemsPerJoint</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                combinedObjs[n] = dataVecAll[:, idxBase:idxBase + itemsPerJoint]</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                logging.info(combinedObjs[n].shape)</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        logging.info(dataVecAll.shape)</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        logging.info(<span class="stringliteral">&#39;&#39;</span>)</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="comment"># it is now time to combine hands if multiple exist</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        combinedHands = dict()</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">if</span> combineHands <span class="keywordflow">and</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;combineHands&#39;</span>] <span class="keywordflow">and</span> \</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;           len([s <span class="keywordflow">for</span> s <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;includeParts&#39;</span>] <span class="keywordflow">if</span> <span class="stringliteral">&#39;hand&#39;</span> <span class="keywordflow">in</span> s]) &gt; 0:</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            logging.info(<span class="stringliteral">&#39;Combining hands&#39;</span>)</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#aa99dc23f32bb97a5dc615764f3812248">handsCombined</a> = <span class="keyword">True</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#accf604f68241cf3847a9f5d695710330">featureSequence</a>.append(<span class="stringliteral">&#39;hand&#39;</span>)</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            <span class="keywordflow">for</span> n <span class="keywordflow">in</span> handDict:</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                idxBase = handDict[n] * itemsPerJoint</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                combinedHands[n] = dataVecAll[:, idxBase:idxBase + itemsPerJoint]</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                logging.info(combinedHands[n].shape)</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            logging.info(dataVecAll.shape)</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            self.<a class="code" href="group__icubclient__SAM__Drivers.html#aa99dc23f32bb97a5dc615764f3812248">handsCombined</a> = <span class="keyword">False</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        logging.info(jointsToUse)</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        otherJoints = <span class="keywordtype">None</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">for</span> j, item <span class="keywordflow">in</span> enumerate(jointsToUse):</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#aa99dc23f32bb97a5dc615764f3812248">handsCombined</a>:</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                <span class="keywordflow">if</span> item <span class="keywordflow">not</span> <span class="keywordflow">in</span> handDict <span class="keywordflow">and</span> item <span class="keywordflow">not</span> <span class="keywordflow">in</span> objectDict:</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Drivers.html#accf604f68241cf3847a9f5d695710330">featureSequence</a>.append(item)</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                    idxBase = j * itemsPerJoint</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                    <span class="keywordflow">if</span> otherJoints <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                        otherJoints = dataVecAll[:, idxBase:idxBase + itemsPerJoint]</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                        otherJoints = np.hstack([otherJoints, dataVecAll[:, idxBase:idxBase + itemsPerJoint]])</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                <span class="keywordflow">if</span> item <span class="keywordflow">not</span> <span class="keywordflow">in</span> objectDict:</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Drivers.html#accf604f68241cf3847a9f5d695710330">featureSequence</a>.append(item)</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                    idxBase = j * itemsPerJoint</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                    <span class="keywordflow">if</span> otherJoints <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                        otherJoints = dataVecAll[:, idxBase:idxBase + itemsPerJoint]</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                        otherJoints = np.hstack([otherJoints, dataVecAll[:, idxBase:idxBase + itemsPerJoint]])</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordflow">if</span> otherJoints <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            logging.info(otherJoints.shape)</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a> = []</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#accf604f68241cf3847a9f5d695710330">featureSequence</a>:</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keywordflow">if</span> j == <span class="stringliteral">&#39;object&#39;</span>:</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                <span class="keywordflow">for</span> k <span class="keywordflow">in</span> objectsList:</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                    <span class="keywordflow">if</span> k != <span class="stringliteral">&#39;partner&#39;</span>:</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>.append([k])</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="keywordflow">elif</span> <span class="stringliteral">&#39;hand&#39;</span> <span class="keywordflow">in</span> j:</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#aa99dc23f32bb97a5dc615764f3812248">handsCombined</a>:</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                    a = copy.deepcopy(self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>)</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                    b = copy.deepcopy(self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>)</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                    <span class="keywordflow">if</span> len(self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>) &gt; 0:</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                        <span class="keywordflow">for</span> l, m <span class="keywordflow">in</span> enumerate(self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>):</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                            a[l].append(<span class="stringliteral">&#39;handLeft&#39;</span>)</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                            b[l].append(<span class="stringliteral">&#39;handRight&#39;</span>)</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                            self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a> = a + b</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>.append([<span class="stringliteral">&#39;handLeft&#39;</span>])</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>.append([<span class="stringliteral">&#39;handRight&#39;</span>])</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    <span class="keywordflow">for</span> l, m <span class="keywordflow">in</span> enumerate(self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>):</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>[l].append(j)</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                <span class="keywordflow">for</span> l, m <span class="keywordflow">in</span> enumerate(self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>):</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                    self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>[l].append(j)</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        logging.info(<span class="stringliteral">&#39;Vectors to Classify:&#39;</span>)</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>:</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            logging.info(<span class="stringliteral">&quot;\t&quot;</span> + str(j))</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        dataVecReq = <span class="keywordtype">None</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        objSection = <span class="keywordtype">None</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">if</span> combinedObjs:</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            objSection = <span class="keywordtype">None</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <span class="keywordflow">for</span> j <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>:</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                logging.info(str(j[0]))</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                <span class="keywordflow">if</span> objSection <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                    objSection = combinedObjs[j[0]]</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                    objSection = np.vstack([objSection, combinedObjs[j[0]]])</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            dataVecReq = objSection</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            logging.info(str(objSection.shape))</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        handsSection = <span class="keywordtype">None</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">if</span> combinedHands:</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <span class="keywordflow">for</span> j <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>:</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                <span class="keywordflow">for</span> l <span class="keywordflow">in</span> j:</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                    <span class="keywordflow">if</span> <span class="stringliteral">&#39;hand&#39;</span> <span class="keywordflow">in</span> l:</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                        <span class="keywordflow">if</span> handsSection <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                            handsSection = combinedHands[l]</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                            handsSection = np.vstack([handsSection, combinedHands[l]])</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <span class="keywordflow">if</span> dataVecReq <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                dataVecReq = handsSection</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                dataVecReq = np.hstack([dataVecReq, handsSection])</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            logging.info(str(handsSection.shape))</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        othersSection = <span class="keywordtype">None</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="keywordflow">if</span> otherJoints <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            <span class="keywordflow">for</span> j <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>:</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                logging.info(str(j[:]))</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                <span class="keywordflow">if</span> othersSection <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                    othersSection = otherJoints</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                    othersSection = np.vstack([othersSection, otherJoints])</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            <span class="keywordflow">if</span> dataVecReq <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                dataVecReq = othersSection</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                dataVecReq = np.hstack([dataVecReq, othersSection])</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        logging.info(str(dataVecReq.shape))</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        del handsSection, othersSection, objSection, combinedHands, combinedObjs, otherJoints</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="comment"># Also augment the labels list</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        data2LabelsAugment = []</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>:</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            data2LabelsAugment.append([])</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> data2Labels:</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            splitLabel = j.split(<span class="stringliteral">&#39;_&#39;</span>)</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            action = <span class="stringliteral">&#39;_&#39;</span>.join(splitLabel[:2])</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="keywordflow">if</span> len(splitLabel) &gt; 2:</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                obj = splitLabel[2]</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                hand = splitLabel[4]</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <span class="keywordflow">if</span> combineHands:</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                    handSubList = [k <span class="keywordflow">for</span> k <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a> <span class="keywordflow">if</span> <span class="stringliteral">&#39;hand&#39;</span> + hand.capitalize() <span class="keywordflow">in</span> k]</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                    <span class="keywordflow">if</span> combineObjects:</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                        vec = [f <span class="keywordflow">for</span> f <span class="keywordflow">in</span> handSubList <span class="keywordflow">if</span> obj <span class="keywordflow">in</span> f][0]</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                        vec = handSubList[0]</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                    vec = [f <span class="keywordflow">for</span> f <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a> <span class="keywordflow">if</span> obj <span class="keywordflow">in</span> f][0]</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                <span class="comment"># logging.info(data2Labels.index(j), vec)</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                <span class="comment"># printStr = &#39;&#39;</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                <span class="keywordflow">for</span> n, k <span class="keywordflow">in</span> enumerate(self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>):</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                    <span class="keywordflow">if</span> vec == k:</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                        data2LabelsAugment[n].append(action)</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                        <span class="comment"># printStr += action + &#39;\t&#39;</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                    <span class="comment"># else:</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                        data2LabelsAugment[n].append(<span class="stringliteral">&#39;idle&#39;</span>)</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                <span class="comment">#         printStr += &#39;\tidle&#39;</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                <span class="comment">#     logging.info(data2LabelsAugment[n][-1],)</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                <span class="comment"># print</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                obj = <span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                hand = <span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                printStr = <span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                <span class="keywordflow">for</span> n, k <span class="keywordflow">in</span> enumerate(self.<a class="code" href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">listOfVectorsToClassify</a>):</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    <span class="comment"># printStr += action + &#39;\t&#39;</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                    data2LabelsAugment[n].append(action)</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="comment">#             logging.info(data2LabelsAugment[n][-1],)</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="comment">#         print</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="comment">#     logging.info(action, obj, hand)</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="comment">#     logging.info(&#39;---------------------&#39;)</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="comment"># logging.info(&#39;before augment&#39;, set(data2Labels))</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        data2Labels = []</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> data2LabelsAugment:</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            data2Labels += j</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="comment"># logging.info(&#39;after augment&#39;, set(data2Labels)</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        logging.info(<span class="stringliteral">&#39;labels &#39;</span> + str(len(data2Labels)))</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        logging.info(<span class="stringliteral">&#39;data &#39;</span> + str(dataVecReq.shape))</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a2c4032e4052b59a249bae791ee6a4ae8">allDataDict</a> = dict()</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a2c4032e4052b59a249bae791ee6a4ae8">allDataDict</a>[<span class="stringliteral">&#39;Y&#39;</span>] = copy.deepcopy(dataVecReq)</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#a2c4032e4052b59a249bae791ee6a4ae8">allDataDict</a>[<span class="stringliteral">&#39;L&#39;</span>] = copy.deepcopy(data2Labels)</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="comment"># ---------------------------------------------------------------------------------</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        data2ShortLabels = []</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> data2Labels:</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            splitLabel = j.split(<span class="stringliteral">&#39;_&#39;</span>)</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            slabel = (<span class="stringliteral">&#39;_&#39;</span>.join(splitLabel[:2]))</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <span class="keywordflow">if</span> splitLabel[0] == <span class="stringliteral">&#39;push&#39;</span> <span class="keywordflow">or</span> splitLabel[0] == <span class="stringliteral">&#39;pull&#39;</span>:</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                <span class="keywordflow">if</span> splitLabel[-1] == <span class="stringliteral">&#39;no&#39;</span>:</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                    add = splitLabel[-2]</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                    add = splitLabel[-1]</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                <span class="keywordflow">if</span> add == <span class="stringliteral">&#39;left&#39;</span> <span class="keywordflow">and</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;flip&#39;</span>]:</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                    <span class="keywordflow">if</span> splitLabel[0] == <span class="stringliteral">&#39;push&#39;</span>:</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                        splitLabel[0] = <span class="stringliteral">&#39;pull&#39;</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                        splitLabel[0] = <span class="stringliteral">&#39;push&#39;</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                    slabel = (<span class="stringliteral">&#39;_&#39;</span>.join(splitLabel[:2]))</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;sepRL&#39;</span>]:</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                    slabel += <span class="stringliteral">&#39;_&#39;</span> + add</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            data2ShortLabels.append(slabel)</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#ad9c274bfb069dd815c35b46d77bca9d1">data2Labels</a> = copy.deepcopy(data2ShortLabels)</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        logging.info(<span class="stringliteral">&#39;shortLabels len &#39;</span> + str(set(self.<a class="code" href="group__icubclient__SAM__Drivers.html#ad9c274bfb069dd815c35b46d77bca9d1">data2Labels</a>)))</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;sepRL&#39;</span>]:</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <span class="keywordflow">if</span> <span class="stringliteral">&#39;pull_object&#39;</span> <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;actionsAllowedList&#39;</span>]:</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;actionsAllowedList&#39;</span>].index(<span class="stringliteral">&#39;pull_object&#39;</span>) == <span class="stringliteral">&#39;pull_object_right&#39;</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;actionsAllowedList&#39;</span>].append(<span class="stringliteral">&#39;pull_object_left&#39;</span>)</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            <span class="keywordflow">if</span> <span class="stringliteral">&#39;push_object&#39;</span> <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;actionsAllowedList&#39;</span>]:</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;actionsAllowedList&#39;</span>].index(<span class="stringliteral">&#39;push_object&#39;</span>) == <span class="stringliteral">&#39;push_object_right&#39;</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;actionsAllowedList&#39;</span>].append(<span class="stringliteral">&#39;push_object_left&#39;</span>)</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <span class="comment"># remove labels which will not be trained</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        logging.info(<span class="stringliteral">&#39;actions allowed: &#39;</span> + str(self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;actionsAllowedList&#39;</span>]))</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        listToDelete = []</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordflow">for</span> n <span class="keywordflow">in</span> reversed(range(len(data2Labels))):</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <span class="keywordflow">if</span> len([j <span class="keywordflow">for</span> j <span class="keywordflow">in</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;actionsAllowedList&#39;</span>] <span class="keywordflow">if</span> j <span class="keywordflow">in</span> data2Labels[n]]) == 0 <span class="keywordflow">or</span> \</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                            <span class="stringliteral">&#39;no&#39;</span> <span class="keywordflow">in</span> data2Labels[n]:</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                listToDelete.append(n)</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        dataVecReq = np.delete(dataVecReq, listToDelete, axis=0)</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        npdata2ShortLabels = np.asarray(data2ShortLabels)</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        npdata2ShortLabels = np.delete(npdata2ShortLabels, listToDelete, axis=0)</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <span class="comment"># find left hand push and pull and label as pull and push respectively</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        data2ShortLabels = np.ndarray.tolist(npdata2ShortLabels)</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#ab531558eee10a99547032f611799fc2e">  739</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462d762fee5145a93abaccf45505391d">Y</a> = dataVecReq</div><div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a794184bc22c039821402946663a2fe5b">  740</a></span>&#160;        self.<a class="code" href="group__icubclient__SAM__Drivers.html#gad584d554bc3c5c82f75c37d69c66add2">L</a> = data2ShortLabels</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="comment"># logging.info(&#39;\n&#39;.join(data2Labels))</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        logging.info(self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462d762fee5145a93abaccf45505391d">Y</a>.shape)</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        logging.info(len(self.<a class="code" href="group__icubclient__SAM__Drivers.html#gad584d554bc3c5c82f75c37d69c66add2">L</a>))</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Drivers.html#ac06888bfa96e2317bd325af608fcf463">listOfClassificationVectors</a>(self, featureSequence, objectsList, partnerName=&#39;partner&#39;):</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="stringliteral">        Constructs a list of classifications to carry out.</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="stringliteral">        Consider an example where featureSequence consists of `object&#39;, &#39;hand&#39;, &#39;head&#39;. Assuming there are 2 objects in the scene, this method constructs 4 possible vectors to classify. \n</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="stringliteral">        1) `object1, rightHand, head` \n</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="stringliteral">        2) `object1, leftHand, head` \n</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="stringliteral">        3) `object2, rightHand, head` \n</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="stringliteral">        4) `object2, leftHand, head` \n</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="stringliteral">        Args:</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="stringliteral">            featureSequence: Organisation of features within the feature vector.</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="stringliteral">            objectsList: List of objects currently in the scene.</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="stringliteral">            partnerName: Object name to ignore. This ignores the motion of the interacting agent.</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="stringliteral">        Returns:</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="stringliteral">            List of vectors to classify.</span></div><div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#ac06888bfa96e2317bd325af608fcf463">  763</a></span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        listOfVectorsToClassify = []</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> featureSequence:</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="keywordflow">if</span> j == <span class="stringliteral">&#39;object&#39;</span>:</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                <span class="keywordflow">for</span> k <span class="keywordflow">in</span> objectsList:</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                    <span class="keywordflow">if</span> k != partnerName <span class="keywordflow">and</span> k != <span class="stringliteral">&#39;partner&#39;</span>:</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                        listOfVectorsToClassify.append([k])</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            <span class="keywordflow">elif</span> <span class="stringliteral">&#39;hand&#39;</span> <span class="keywordflow">in</span> j:</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#aa99dc23f32bb97a5dc615764f3812248">handsCombined</a>:</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                    a = copy.deepcopy(listOfVectorsToClassify)</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                    b = copy.deepcopy(listOfVectorsToClassify)</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                    <span class="keywordflow">for</span> l, m <span class="keywordflow">in</span> enumerate(listOfVectorsToClassify):</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                        a[l].append(<span class="stringliteral">&#39;handLeft&#39;</span>)</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                        b[l].append(<span class="stringliteral">&#39;handRight&#39;</span>)</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                        listOfVectorsToClassify = a + b</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                    <span class="keywordflow">for</span> l, m <span class="keywordflow">in</span> enumerate(listOfVectorsToClassify):</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                        listOfVectorsToClassify[l].append(j)</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                <span class="keywordflow">for</span> l, m <span class="keywordflow">in</span> enumerate(listOfVectorsToClassify):</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                    listOfVectorsToClassify[l].append(j)</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <span class="keywordflow">return</span> listOfVectorsToClassify</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Drivers.html#a3efad08324380997a894dd960a302bc2">messageChecker</a>(self, dataMessage, mode):</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="stringliteral">        Method to check validity of incoming messages and split into components if valid.</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="stringliteral">        Args:</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="stringliteral">            dataMessage: String message to validate.</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="stringliteral">            mode: Mode of validation. Either `&#39;test&#39;` or `&#39;live&#39;`.</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="stringliteral">        Returns:</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="stringliteral">             List of strings with split sections and a boolean indicating validity of received string.</span></div><div class="line"><a name="l00800"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#a3efad08324380997a894dd960a302bc2">  800</a></span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        goAhead = <span class="keyword">True</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="keywordflow">try</span>:</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            dataMessage = dataMessage.replace(<span class="stringliteral">&#39;&quot;&#39;</span> + dataMessage.partition(<span class="stringliteral">&#39;&quot;&#39;</span>)[-1].rpartition(<span class="stringliteral">&#39;&quot;&#39;</span>)[0] + <span class="stringliteral">&#39;&quot;&#39;</span>, <span class="stringliteral">&#39;partner&#39;</span>)</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            <span class="keywordflow">if</span> mode == <span class="stringliteral">&#39;testing&#39;</span>:</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                t = dataMessage.replace(<span class="stringliteral">&#39;(&#39;</span>, <span class="stringliteral">&#39;&#39;</span>).replace(<span class="stringliteral">&#39;)&#39;</span>, <span class="stringliteral">&#39;&#39;</span>).split(<span class="stringliteral">&#39; &#39;</span>)[4:-1]</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            <span class="keywordflow">elif</span> mode == <span class="stringliteral">&#39;live&#39;</span>:</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                t = dataMessage.replace(<span class="stringliteral">&#39;(&#39;</span>, <span class="stringliteral">&#39;&#39;</span>).replace(<span class="stringliteral">&#39;)&#39;</span>, <span class="stringliteral">&#39;&#39;</span>).replace(<span class="stringliteral">&#39;&quot;&#39;</span>, <span class="stringliteral">&#39;&#39;</span>).split(<span class="stringliteral">&#39; &#39;</span>)[2:-1]</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                logging.error(<span class="stringliteral">&#39;Non-existing mode. Choose either live or read&#39;</span>)</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                t = []</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            <span class="keywordflow">if</span> len(t) &gt; 45:</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.<a class="code" href="group__icubclient__SAM__Drivers.html#ab90cebf00ada98f96102c2b01b2ff970">numJoints</a>):</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                        a = i*4</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                        goAhead = goAhead <span class="keywordflow">and</span> type(t[a]) == str</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                        goAhead = goAhead <span class="keywordflow">and</span> float(t[a+1]) <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                        goAhead = goAhead <span class="keywordflow">and</span> float(t[a+2]) <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                        goAhead = goAhead <span class="keywordflow">and</span> float(t[a+3]) <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                currIdx = (self.<a class="code" href="group__icubclient__SAM__Drivers.html#ab90cebf00ada98f96102c2b01b2ff970">numJoints</a>*4 - 1)</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                numObjs = (len(t) - currIdx)/5</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(numObjs):</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                    a = currIdx + 1 + (i*5)</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                    goAhead = goAhead <span class="keywordflow">and</span> type(t[a]) == str</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                    goAhead = goAhead <span class="keywordflow">and</span> float(t[a+1]) <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                    goAhead = goAhead <span class="keywordflow">and</span> float(t[a+2]) <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                    goAhead = goAhead <span class="keywordflow">and</span> float(t[a+3]) <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                goAhead = <span class="keyword">False</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <span class="keywordflow">except</span>:</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            goAhead = <span class="keyword">False</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            t = []</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">return</span> [t, goAhead]</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keyword">def </span><a class="code" href="group__icubclient__SAM__Drivers.html#ab7e00f1a17cf5022d7a0864ed2e097aa">processLiveData</a>(self, dataList, thisModel, verbose=False, returnUnknown=False, printClass=True, additionalData=dict()):</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="stringliteral">            Method which receives a list of data frames and outputs a classification if available or &#39;no_classification&#39; if it is not.</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="stringliteral">            Args:</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="stringliteral">                dataList: List of dataFrames collected. Length of list is variable.</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="stringliteral">                thisModel: List of models required for testing.</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="stringliteral">                verbose : Boolean turning logging to stdout on or off.</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="stringliteral">                returnUnknown : Boolean to turn on or off the return a sentence if the classification is unknown.</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="stringliteral">                printClass : Boolean to turn on or off logging of classification to stdout.</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="stringliteral">                additionalData : Dictionary containing additional data required for classification to occur.</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="stringliteral">            Returns:</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="stringliteral">                String with result of classification, likelihood of the classification, and list of frames with the latest x number of frames popped where x is the window length of the model. Classification result can be string `&#39;None&#39;` if the classification is unknown or message is invalid or `None` if a different error occurs.</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00851"></a><span class="lineno"><a class="line" href="group__icubclient__SAM__Drivers.html#ab7e00f1a17cf5022d7a0864ed2e097aa">  851</a></span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        mode = <span class="stringliteral">&#39;live&#39;</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        sentence = []</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        classifs = []</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        sentenceProb = []</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        vecList = []</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        errorFlag = <span class="keyword">False</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">if</span> len(dataList) == self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;windowSize&#39;</span>]:</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            logging.debug(<span class="stringliteral">&#39;dataList is of good size&#39;</span>)</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            dataStrings = []</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(len(dataList)):</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                logging.debug(<span class="stringliteral">&#39;check message&#39;</span> + str(j))</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                [t, goAhead] = self.<a class="code" href="group__icubclient__SAM__Drivers.html#a3efad08324380997a894dd960a302bc2">messageChecker</a>(dataList[j].toString(), mode)</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                logging.debug(<span class="stringliteral">&#39;message&#39;</span> + str(j) + <span class="stringliteral">&#39;checked&#39;</span>)</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                <span class="keywordflow">if</span> goAhead:</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                    logging.debug(<span class="stringliteral">&#39;append&#39;</span>)</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                    dataStrings.append(t)</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            logging.debug(<span class="stringliteral">&#39;checked all strings&#39;</span>)</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            <span class="keywordflow">if</span> len(dataStrings) == self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;windowSize&#39;</span>]:</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                <span class="keywordflow">try</span>:</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                    logging.debug(<span class="stringliteral">&#39;converting to dict&#39;</span>)</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                    data, jointsList, objectsList = self.<a class="code" href="group__icubclient__SAM__Drivers.html#adf0a2c86e4fb05deaee70ffbd212db57">convertToDict</a>(dataStrings, mode=mode, verbose=<span class="keyword">False</span>)</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                    logging.debug(<span class="stringliteral">&#39;converted to dictionary&#39;</span>)</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                <span class="keywordflow">except</span>:</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                    logging.error(<span class="stringliteral">&#39;Some incorrect messages received&#39;</span>)</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&#39;None&#39;</span>, <span class="keywordtype">None</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                <span class="keywordflow">if</span> <span class="stringliteral">&#39;partnerName&#39;</span> <span class="keywordflow">in</span> additionalData.keys():</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                    listOfVectorsToClassify = self.<a class="code" href="group__icubclient__SAM__Drivers.html#ac06888bfa96e2317bd325af608fcf463">listOfClassificationVectors</a>(self.<a class="code" href="group__icubclient__SAM__Drivers.html#accf604f68241cf3847a9f5d695710330">featureSequence</a>, objectsList,</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                                                                            partnerName=additionalData[<span class="stringliteral">&#39;partnerName&#39;</span>])</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                    listOfVectorsToClassify = self.<a class="code" href="group__icubclient__SAM__Drivers.html#ac06888bfa96e2317bd325af608fcf463">listOfClassificationVectors</a>(self.<a class="code" href="group__icubclient__SAM__Drivers.html#accf604f68241cf3847a9f5d695710330">featureSequence</a>, objectsList,</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                                                                               partnerName=<span class="stringliteral">&#39;partner&#39;</span>)</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                logging.debug(<span class="stringliteral">&#39;finished list of vectors to classify&#39;</span>)</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                <span class="keywordflow">for</span> j <span class="keywordflow">in</span> listOfVectorsToClassify:</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                    v = []</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                    <span class="keywordflow">for</span> k <span class="keywordflow">in</span> j:</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                        v.append(data[k])</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                    vec = np.hstack(v)</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                    vecList.append(vec)</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                    logging.debug(<span class="stringliteral">&#39;testing segment&#39;</span>)</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                    [label, val] = SAMTesting.testSegment(thisModel, vec, verbose, visualiseInfo=<span class="keywordtype">None</span>,</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                                                          optimise=thisModel[0].optimiseRecall)</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                    logging.debug(<span class="stringliteral">&#39;tested segment&#39;</span>)</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                    classification = label.split(<span class="stringliteral">&#39;_&#39;</span>)[0]</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                    classifs.append(classification)</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                    <span class="keywordflow">if</span> self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;flip&#39;</span>] <span class="keywordflow">and</span> <span class="stringliteral">&#39;handLeft&#39;</span> <span class="keywordflow">in</span> j:</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                        <span class="keywordflow">if</span> classification == <span class="stringliteral">&#39;push&#39;</span>:</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                            classification = <span class="stringliteral">&#39;pull&#39;</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                        <span class="keywordflow">elif</span> classification == <span class="stringliteral">&#39;pull&#39;</span>:</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                            classification = <span class="stringliteral">&#39;push&#39;</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                    logging.debug(<span class="stringliteral">&#39;making sentence&#39;</span>)</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                    <span class="keywordflow">if</span> classification == <span class="stringliteral">&#39;unknown&#39;</span>:</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                        sentence.append(<span class="stringliteral">&quot;You did an &quot;</span> + classification + <span class="stringliteral">&quot; action on the &quot;</span> + str(j[0]))</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                        sentenceProb.append(val)</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                        sentence.append(<span class="stringliteral">&quot;You did a &quot;</span> + classification + <span class="stringliteral">&quot; action on the &quot;</span> + str(j[0]))</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                        sentenceProb.append(val)</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                    logging.debug(<span class="stringliteral">&#39;sentence made&#39;</span>)</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                    <span class="comment"># if len(j) &gt; 1:</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                    <span class="comment">#     sentence[-1] += &quot; with your &quot; + j[1].replace(&#39;hand&#39;, &#39;&#39;) + &#39; hand&#39;</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                    <span class="keywordflow">if</span> classification == <span class="stringliteral">&#39;unknown&#39;</span> <span class="keywordflow">and</span> <span class="keywordflow">not</span> returnUnknown:</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                        sentence.pop(-1)</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                        sentenceProb.pop(-1)</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                    <span class="keywordflow">elif</span> printClass:</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                        logging.info(sentence[-1])</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                    <span class="keywordflow">if</span> printClass:</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                        logging.info(<span class="stringliteral">&#39;------------------------------------------------------&#39;</span>)</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                logging.debug(<span class="stringliteral">&#39;modifying datalist&#39;</span>)</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                del dataList[:self.<a class="code" href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">paramsDict</a>[<span class="stringliteral">&#39;windowOffset&#39;</span>]]</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                <span class="keywordflow">if</span> len(sentence) &gt; 0:</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                    <span class="comment"># return [str(sentence), data, classifs, vecList]</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                    logging.debug(<span class="stringliteral">&#39;ret success&#39;</span>)</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                    <span class="keywordflow">return</span> sentence, sentenceProb, dataList</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                    <span class="comment"># return [&#39;None&#39;, data, classifs, vecList]</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                    logging.debug(<span class="stringliteral">&#39;ret None&#39;</span>)</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&#39;None&#39;</span>, 0, dataList</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                logging.error(<span class="stringliteral">&#39;Some incorrect messages received&#39;</span>)</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&#39;None&#39;</span>, 0, <span class="keywordtype">None</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            logging.error(<span class="stringliteral">&#39;Not enough data points&#39;</span>)</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            <span class="keywordflow">return</span> <span class="keywordtype">None</span>, 0, <span class="keywordtype">None</span></div><div class="ttc" id="group__icubclient__SAM__Drivers_html_ga7e5bd4edc32a108d5641cf7343887b6c"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#ga7e5bd4edc32a108d5641cf7343887b6c">SAM.SAM_Core.SAMDriver.SAMDriver.rawData</a></div><div class="ttdeci">rawData</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver_8py_source.html#l00076">SAMDriver.py:76</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_a0795d275820675450a4ccc869e759958"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#a0795d275820675450a4ccc869e759958">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.dataLogList</a></div><div class="ttdeci">dataLogList</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00038">SAMDriver_ARWin.py:38</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_a8d905b932fffa96aeeb19f121c225d66"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#a8d905b932fffa96aeeb19f121c225d66">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.seqTestPerc</a></div><div class="ttdeci">seqTestPerc</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00048">SAMDriver_ARWin.py:48</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_a56b2437f3700afce6363dd8510f6661b"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#a56b2437f3700afce6363dd8510f6661b">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.data</a></div><div class="ttdeci">data</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00036">SAMDriver_ARWin.py:36</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_ga462b640279c37475acc154525d327eeb"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#ga462b640279c37475acc154525d327eeb">SAM.SAM_Core.SAMDriver.SAMDriver.paramsDict</a></div><div class="ttdeci">paramsDict</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver_8py_source.html#l00060">SAMDriver.py:60</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_ab7e00f1a17cf5022d7a0864ed2e097aa"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#ab7e00f1a17cf5022d7a0864ed2e097aa">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.processLiveData</a></div><div class="ttdeci">def processLiveData(self, dataList, thisModel, verbose=False, returnUnknown=False, printClass=True, additionalData=dict())</div><div class="ttdoc">Method which receives a list of data frames and outputs a classification if available or &amp;#39;no_classifi...</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00851">SAMDriver_ARWin.py:851</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_classSAM_1_1SAM__Drivers_1_1SAMDriver__ARWin_1_1SAMDriver__ARWin"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#classSAM_1_1SAM__Drivers_1_1SAMDriver__ARWin_1_1SAMDriver__ARWin">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin</a></div><div class="ttdoc">Class developed for the implementation of windowed real time action recognition. </div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00028">SAMDriver_ARWin.py:28</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_a9bca50058da592720fd710d2d6e3e1ec"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#a9bca50058da592720fd710d2d6e3e1ec">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.itemsPerJoint</a></div><div class="ttdeci">itemsPerJoint</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00040">SAMDriver_ARWin.py:40</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_ga510653c29b923373a47faf252919d6cb"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#ga510653c29b923373a47faf252919d6cb">SAM.SAM_Core.SAMDriver.SAMDriver.segTrainConf</a></div><div class="ttdeci">segTrainConf</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver_8py_source.html#l00055">SAMDriver.py:55</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_classSAM_1_1SAM__Core_1_1SAMDriver_1_1SAMDriver"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#classSAM_1_1SAM__Core_1_1SAMDriver_1_1SAMDriver">SAM.SAM_Core.SAMDriver.SAMDriver</a></div><div class="ttdoc">SAM Driver parent class that defines the methods by which models are initialised, trained and saved...</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver_8py_source.html#l00035">SAMDriver.py:35</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_adf0a2c86e4fb05deaee70ffbd212db57"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#adf0a2c86e4fb05deaee70ffbd212db57">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.convertToDict</a></div><div class="ttdeci">def convertToDict(self, rawData, mode, verbose)</div><div class="ttdoc">Convert list of strings time series to dictionary with joints and objects as different items of the d...</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00272">SAMDriver_ARWin.py:272</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_a2c4032e4052b59a249bae791ee6a4ae8"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#a2c4032e4052b59a249bae791ee6a4ae8">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.allDataDict</a></div><div class="ttdeci">allDataDict</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00045">SAMDriver_ARWin.py:45</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_ab90cebf00ada98f96102c2b01b2ff970"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#ab90cebf00ada98f96102c2b01b2ff970">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.numJoints</a></div><div class="ttdeci">numJoints</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00037">SAMDriver_ARWin.py:37</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_a9e07c7922ed5de8fed5ec837d191743f"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#a9e07c7922ed5de8fed5ec837d191743f">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.testPerformance</a></div><div class="ttdeci">def testPerformance(self, testModel, Yall, Lall, YtestAll, LtestAll, verbose)</div><div class="ttdoc">Custom testPerformance method. </div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00176">SAMDriver_ARWin.py:176</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_ga462d762fee5145a93abaccf45505391d"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#ga462d762fee5145a93abaccf45505391d">SAM.SAM_Core.SAMDriver.SAMDriver.Y</a></div><div class="ttdeci">Y</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver_8py_source.html#l00044">SAMDriver.py:44</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_ad9c274bfb069dd815c35b46d77bca9d1"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#ad9c274bfb069dd815c35b46d77bca9d1">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.data2Labels</a></div><div class="ttdeci">data2Labels</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00043">SAMDriver_ARWin.py:43</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_a59f13ac648de32dde07f5b18c1e78a56"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#a59f13ac648de32dde07f5b18c1e78a56">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.listOfVectorsToClassify</a></div><div class="ttdeci">listOfVectorsToClassify</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00046">SAMDriver_ARWin.py:46</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_gad584d554bc3c5c82f75c37d69c66add2"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#gad584d554bc3c5c82f75c37d69c66add2">SAM.SAM_Core.SAMDriver.SAMDriver.L</a></div><div class="ttdeci">L</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver_8py_source.html#l00045">SAMDriver.py:45</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_gaba1d7355c9842c5ea5881fc9926c06bf"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#gaba1d7355c9842c5ea5881fc9926c06bf">SAM.SAM_Core.SAMDriver.SAMDriver.additionalParametersList</a></div><div class="ttdeci">additionalParametersList</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver_8py_source.html#l00090">SAMDriver.py:90</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_ga0cbeb9209124fba55cb56c5de40b7a63"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#ga0cbeb9209124fba55cb56c5de40b7a63">SAM.SAM_Core.SAMDriver.SAMDriver.segTestPerc</a></div><div class="ttdeci">segTestPerc</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver_8py_source.html#l00058">SAMDriver.py:58</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_abfdb7d58b7dde75f1e9dfdbd1c053264"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#abfdb7d58b7dde75f1e9dfdbd1c053264">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.diskDataToLiveData</a></div><div class="ttdeci">def diskDataToLiveData(self, root_data_dir)</div><div class="ttdoc">This method reads in time series data from disk for SAMDriver_ARWin. </div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00198">SAMDriver_ARWin.py:198</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_ac06888bfa96e2317bd325af608fcf463"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#ac06888bfa96e2317bd325af608fcf463">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.listOfClassificationVectors</a></div><div class="ttdeci">def listOfClassificationVectors(self, featureSequence, objectsList, partnerName='partner')</div><div class="ttdoc">Constructs a list of classifications to carry out. </div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00763">SAMDriver_ARWin.py:763</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_ga11f7d1112da1490998b9878d212d6255"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#ga11f7d1112da1490998b9878d212d6255">SAM.SAM_Core.SAMDriver.SAMDriver.segTestConf</a></div><div class="ttdeci">segTestConf</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver_8py_source.html#l00057">SAMDriver.py:57</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_a12a86e98b3d5335ef56bcd3f6d048f81"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#a12a86e98b3d5335ef56bcd3f6d048f81">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.saveParameters</a></div><div class="ttdeci">def saveParameters(self)</div><div class="ttdoc">Override SAMDriver.saveParameters. </div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00153">SAMDriver_ARWin.py:153</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_aa99dc23f32bb97a5dc615764f3812248"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#aa99dc23f32bb97a5dc615764f3812248">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.handsCombined</a></div><div class="ttdeci">handsCombined</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00042">SAMDriver_ARWin.py:42</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_a1d8d40aaf3d8688bb50f784c19615368"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#a1d8d40aaf3d8688bb50f784c19615368">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.__init__</a></div><div class="ttdeci">def __init__(self)</div><div class="ttdoc">Initialise class using SAMDriver.__init__ and augment with custom parameters. </div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00034">SAMDriver_ARWin.py:34</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_ga48cfefc6532ba606936b9fd7f3156da8"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#ga48cfefc6532ba606936b9fd7f3156da8">SAM.SAM_Core.SAMDriver.SAMDriver.verbose</a></div><div class="ttdeci">verbose</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver_8py_source.html#l00061">SAMDriver.py:61</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_a3d24d506bc292c1f8f53ebd903e6f0e3"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#a3d24d506bc292c1f8f53ebd903e6f0e3">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.labelsLogList</a></div><div class="ttdeci">labelsLogList</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00039">SAMDriver_ARWin.py:39</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_a51c7b0fd9952b5cb0d347912ce12d14e"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#a51c7b0fd9952b5cb0d347912ce12d14e">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.loadParameters</a></div><div class="ttdeci">def loadParameters(self, parser, trainName)</div><div class="ttdoc">Function to load parameters from the model config.ini file. </div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00065">SAMDriver_ARWin.py:65</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_a3efad08324380997a894dd960a302bc2"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#a3efad08324380997a894dd960a302bc2">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.messageChecker</a></div><div class="ttdeci">def messageChecker(self, dataMessage, mode)</div><div class="ttdoc">Method to check validity of incoming messages and split into components if valid. ...</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00800">SAMDriver_ARWin.py:800</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_ga34a0d852321cad5abdc8fd4d514e60fa"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#ga34a0d852321cad5abdc8fd4d514e60fa">SAM.SAM_Core.SAMDriver.SAMDriver.rawTextData</a></div><div class="ttdeci">rawTextData</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver_8py_source.html#l00075">SAMDriver.py:75</a></div></div>
<div class="ttc" id="namespaceSAM_1_1SAM__Core_html"><div class="ttname"><a href="namespaceSAM_1_1SAM__Core.html">SAM.SAM_Core</a></div><div class="ttdef"><b>Definition:</b> <a href="SAM__Core_2____init_____8py_source.html#l00001">__init__.py:1</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_a405e35ae705be4102f3e7cb2394f055f"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#a405e35ae705be4102f3e7cb2394f055f">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.dataVec</a></div><div class="ttdeci">dataVec</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00044">SAMDriver_ARWin.py:44</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_a0dab1e97a70d82f72fe076df29b0e052"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#a0dab1e97a70d82f72fe076df29b0e052">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.seqTestConf</a></div><div class="ttdeci">seqTestConf</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00047">SAMDriver_ARWin.py:47</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_gaf7748998c4b4347aaac0df1cc38a830c"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#gaf7748998c4b4347aaac0df1cc38a830c">SAM.SAM_Core.SAMDriver.SAMDriver.segTrainPerc</a></div><div class="ttdeci">segTrainPerc</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver_8py_source.html#l00056">SAMDriver.py:56</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_accf604f68241cf3847a9f5d695710330"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#accf604f68241cf3847a9f5d695710330">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.featureSequence</a></div><div class="ttdeci">featureSequence</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00041">SAMDriver_ARWin.py:41</a></div></div>
<div class="ttc" id="group__icubclient__SAM__Drivers_html_afc5f853cfede70ba59eadee2277a9e6c"><div class="ttname"><a href="group__icubclient__SAM__Drivers.html#afc5f853cfede70ba59eadee2277a9e6c">SAM.SAM_Drivers.SAMDriver_ARWin.SAMDriver_ARWin.readData</a></div><div class="ttdeci">def readData(self, root_data_dir, participant_index, args, kw)</div><div class="ttdoc">Method which accepts a data directory, reads all the data in and outputs self.Y which is a numpy arra...</div><div class="ttdef"><b>Definition:</b> <a href="SAMDriver__ARWin_8py_source.html#l00417">SAMDriver_ARWin.py:417</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 19 2020 23:45:26 for icub-client by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
