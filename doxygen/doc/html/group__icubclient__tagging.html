<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>icub-client: Run the proactive tagging demo</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">icub-client
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Run the proactive tagging demo</div>  </div>
</div><!--header-->
<div class="contents">

<p>This provides a brief tutorial on how to run the proactive tagging demo described in the paper.  
<a href="#details">More...</a></p>
<p>This provides a brief tutorial on how to run the proactive tagging demo described in the paper. </p>
<p>To run the proactive tagging demo, first install all modules as described in the README. Then, adapt the <code>proactiveTagging.xml</code> within <code>icub-client/app/demos</code> to match your system setup (modify the node names). For the role of the individual components, we refer to our paper.</p>
<p>Once you start all modules, two drives will be active as specified in <code>icub-client/app/reactiveLayer/allostaticController/conf/default.ini</code>: one for knowledge acquisition, and another one for knowledge demonstration. Both drives will start decaying (see <a class="el" href="group__homeostasis.html#classHomeostaticModule">HomeostaticModule</a> and <a class="el" href="group__allostaticController.html#a448eb3497467e10577e6a03ef55633f3" title="updateAllostatic Update the drives accordingly to the stimuli ">AllostaticController::updateAllostatic()</a>). Once the drive for knowledge acquisition hits the lower threshold, the <a class="el" href="group__allostaticController.html#a70e9a461682da34e29e77d5d85d5a11c" title="triggers a behavior if needs are out of threshold ">AllostaticDrive::triggerBehavior()</a> is being called, which in turn sends an RPC command to the <a class="el" href="group__behaviorManager.html#classBehaviorManager">BehaviorManager</a>. Within <a class="el" href="group__behaviorManager.html#a79cbdf143299a44a1c391e385846bb04">BehaviorManager::respond()</a>, the <a class="el" href="group__behaviorManager.html#a8427d7f479b580bbf54030015b506374">Tagging::run()</a> is called.</p>
<p>There, it is specified that the iCub should first find the name of the partner. Therefore, an RPC command is send to <a class="el" href="classproactiveTagging.html">proactiveTagging</a>, which where the <a class="el" href="classproactiveTagging.html#a7645a181289f171fc5268ecd24e7ace9" title="Explore an unknown entity by asking for the name (response via speech recognition) ...">proactiveTagging::exploreUnknownEntity()</a> method is called. This method uses the face recognition ability of <a class="el" href="namespaceSAM.html">SAM</a> (see <a class="el" href="group__icubclient__SAM__Drivers.html#classSAM_1_1SAM__Drivers_1_1SAMDriver__interaction_1_1SAMDriver__interaction" title="Class developed for the implementation of face recognition. ">SAM.SAM_Drivers.SAMDriver_interaction.SAMDriver_interaction</a>). If the face is not being recognized, it will ask the partner for the name (see <a class="el" href="classproactiveTagging.html#a7645a181289f171fc5268ecd24e7ace9" title="Explore an unknown entity by asking for the name (response via speech recognition) ...">proactiveTagging::exploreUnknownEntity()</a> and <a class="el" href="classproactiveTagging.html#a7d77039a8eb90ea145043d28a2b5435c" title="Send request to SAM to use its face recognition to recognise partner. ">proactiveTagging::getNameFromSAM()</a>). Finally, the ICubClient::changeName() method is called which changes the name in the working memory and informs other modules of the name change.</p>
<p>The next times the threshold is hit, the iCub will either ask for the name of an object by pointing to it, or ask for the name of the body part by moving it. You can use speech input to provide the name of the object / body part. The possible list of (object, bodypart and agent) names is coded within the XML files in the <code>icub-client/app/proactiveTagging/conf</code> directory. Also, if the name of a body part is known but its corresponding tactile patch is not known yet, the iCub will move the body part and ask you to touch the corresponding part (see <a class="el" href="classproactiveTagging.html#ad767fe5d8389c2773da1d34501b8b792" title="Explore an unknown tactile entity (e.g. ">proactiveTagging::exploreTactileEntityWithName()</a>). The logic for tagging subsequent objects and body parts is the same as introduced above for naming the partner.</p>
<p>Besides waiting for the drives to decay, you can also give commands to the iCub. The speech commands are recognized within <a class="el" href="group__ears.html#ae6ddc924bc901594ab56603aacb2b95f">ears::updateModule()</a> that calls the proper module according to the given command. You can say: "Please take the X" (pulling an object), "Give me the X" (pushing an object), "Look at the X", "Point the X", where X is the name of an object. The names are coded in the <code>icub-client/app/ears/conf/MainGrammar.xml</code> file. We recommend keeping these object names consistent with the names in <code>icub-client/app/proactiveTagging/conf</code>. There is some overhead involved when giving commands to the iCub, as every time the <a class="el" href="group__behaviorManager.html#a8427d7f479b580bbf54030015b506374">Tagging::run()</a> method is being called. This method does nothing in case the object name is known within the working memory, or calls <a class="el" href="classproactiveTagging.html#a06f3da8e08290cc4e667dc1f1ab0a2ba" title="Search for the entity corresponding to a certain name in all the unknown entities. ">proactiveTagging::searchingEntity()</a> to find which object the human is referring to. If there is only one unknown object, the robot considers that to be the one the human referred to. If there are multiple unknown objects, the iCub will instead try to infer which object is known by recognising a pointing action of the partner.</p>
<p>Once the partner has pointed to the object, the iCub knows the name and can thus execute the requested action. The mapping from command to action is defined in <a class="el" href="group__ears.html#ae6ddc924bc901594ab56603aacb2b95f">ears::updateModule()</a>. In case an object should be pulled or pushed, the <a class="el" href="group__behaviorManager.html#a2e242410f34618b2ff73f9106732470b">MoveObject::run()</a> method is called. When asked to recognize an action, the <a class="el" href="group__behaviorManager.html#a0a095aa1af770bac92f30042cee21e3a">RecognitionOrder::run()</a> is called. Finally, the <a class="el" href="group__behaviorManager.html#a6f1a7b52f3c846009e6b510dbb728011">Pointing::run()</a> method takes care of pointing to an object when ordered to do so.</p>
<p>(This page can be edited at <a class="el" href="proactivetagging_8dox.html">src/doc/proactivetagging.dox</a>) </p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 19 2020 23:45:27 for icub-client by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
