<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>icub-client: /home/travis/build/robotology/icub-hri/src/modules/SAM/README.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">icub-client
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/home/travis/build/robotology/icub-hri/src/modules/SAM/README.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SAM_2README_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# SAM_Sheffield</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;Authors: Uriel Martinez, Daniel Camilleri, Andreas Damianou, Luke Boorman</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;email:   d.camilleri@sheffield.ac.uk</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;A Synthetic Autobiographical Memory for the iCub robot. This module contains the core, which implements the high-level functionality, and the drivers which act as middleware between the perceptual system and the core.</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;Pre-trained Action Recognition model and data can be downloaded [here](https://drive.google.com/open?id=0B6fkkRLTYjNLbjFFSEZtUmtHNk0).</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;## Features</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;* `samSupervisor` can manage multiple models with great flexibility in training and interacting with models. </div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;* `trainSAMModel` allows for the training of multiple, single or temporal models by simply changing the value in the config.ini of the particular model and automates testing of the different types of models.</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;* `interactionSAMModel` also allows for great flexibility in the method of data collection. 3 Methods are currently supported.</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    1. `continuous` :  Data is continuously classified by the driver with a buffer of classifications being kept. Each time a classification is queried, the classification buffer decreases in size until it reaches 0 and returns None</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    2. `buffered` :        In this case, a buffer of the latest n data points are kept and when the classification command is sent, these data points are sent to the driver for classification which is returned immediately. </div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    3. `future_buffered` :     In this case, when a classification request is sent, the future n data points are collected, classified and a classification returned.</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;Setting a model to any one of these data collection methods and also specifying the buffer lengths is done within `sensory_level_config.ini`</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;## PreRequisites</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;1. GPy dependency from https://github.com/SheffieldML/GPy. The best way to include this is:</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    1. clone the GPy repository https://github.com/SheffieldML/GPy.git</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    2. switch to branch &quot;devel&quot;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    3. Include the directory where you cloned GPy in your PYTHONPATH.</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    4. Move to the GPy directory and run: &quot;python setup.py install&quot; (try &quot;python setup.py build_ext --inplace&quot; if you want to do the installation in the same directory).</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;2. GPyOpt dependency from https://github.com/SheffieldML/GPy. The best way to include this is:</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    1. sudo apt-get install python-pip</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    2. pip install gpyopt</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    If this does not work:</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    1. clone the GPyOpt repository https://github.com/SheffieldML/GPy.git</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    2. Include the directory where you cloned GPyOpt in your PYTHONPATH.</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    3. Move to the GPyOpt directory and run: &quot;python setup.py develop&quot;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;3. Include the directory **ICUBCLIENT_ROOT/src/modules** in your PYTHONPATH.</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;## How to use:</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;Everything is accessed via **samSupervisor** which is installed to **ICUBCLIENT_DIR**.</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;Connect with **samSupervisor** via `/sam/rpc:i` and issue `help` for a list of all possible commands</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;* `check_all`:         Check data and config.ini availabilities for that model, as well as current status (Training or Loaded) and check if model is curently up to date</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;* `check &lt;modelName&gt;`:         Check the same points as above but for a single model</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;* `close &lt;modelName&gt;`:         Terminates a currently loaded interaction process for the particular model</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;* `delete &lt;modelName&gt;`:        Physically deletes the trained model for `&lt;modelName&gt;`</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;* `help`:          Provides a list of available commands</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;* `load &lt;modelName&gt;`:      Launches an interaction process for the corresponding model. If model already present, reloads model from disk</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;* `optimise &lt;modelName&gt;`:  Optimises the parameters of the model via Bayesian Optimisation to achieve the best result. Require GPyOpt to be installed</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;* `quit`:          Terminates samSupervisor</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;* `train &lt;modelName&gt;`:     Launches a training process for the corresponding model</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;* `list_callSigns`:        Compiles a list of currently active callSigns. Where callSigns are the messages that loaded models respond to</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;When a model is loaded, to retrieve a classification of a generation from the model, issue the respective command in the list_callSigns list. There is a timeout of 10 seconds for the response so as not to block the operation of samSupervisor</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;## Prerequisites to use samSupervisor:</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;A folder, `&lt;FolderName&gt;` which has the following folder structure:</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;`&lt;FolderName&gt;`:</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  - `Data:`</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    - `&lt;model1Name&gt;`</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    - `&lt;model2Name&gt;`</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    - `&lt;model3Name&gt;`</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      - `&lt;model3SubModelName1&gt;`</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      - `&lt;model3SubModelName2&gt;`</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      - `&lt;model3SubModelNameN&gt;`</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    - `&lt;modelMName&gt;`</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  - `Models:`</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;Where `&lt;model1Name&gt;` and `&lt;model2Name&gt;` will be modelled as a single model while `&lt;model3Name&gt;` will have multiple models depending on the number of subfolders in `&lt;model3Name&gt;`. </div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;## Important Notes:</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;1. Each `&lt;modelXname&gt;` folder must contain data as well as a `config.ini` which specifies the parameters for training the data found in that folder.</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;2. To carry out training, **samSupervisor** requires at least one `&lt;modelXName&gt;` folder.</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;3. samSupervisor on startup compiles a list of models that are available for training. The models are referenced according their `&lt;modelXName&gt;`</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;4. `&lt;FolderName&gt;/Models` is left empty and is used by samSupervisor to store trained models. </div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;5. You can get an example `&lt;FolderName&gt;` from [here](https://drive.google.com/open?id=0B6fkkRLTYjNLbjFFSEZtUmtHNk0) which contains data and config.ini for Faces and Actions and pre-trained models for Actions</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;6. Finally, modify `default.ini` in **samSupervisor** context to point to your `&lt;FolderName&gt;` and comment out models within `sensory_level_conf.ini` also found in the **samSupervisor** context which you do not require to run automatically when launching samSupervisor </div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;7. `default.ini` has 3 options. </div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    1. persistence: which defines if windows opened should remain open or close auomatically upon termination. Set to true this is useful to debug training or interaction algorithms.</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    2. windowed:     which defines if training and interaction functions should spawn a window or not</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    3. verbose:      defines the level of verbosity of samSupervisor</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;8. `sensory_level_conf.ini` specifies which models should be loaded as sections, the names of their respective input/output ports as well as the callsigns which will trigger recall or recognition of that particular model</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;9. All **PORTS**, **RPCBASES**, and **CALLSIGNS** must be unique</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;## Breakdown of contents in SAM folder:</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;#### SAM_Core: </div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;* Includes the base classes for SAM_Core and SAM_Driver</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;* Includes samSupervisor.py, trainSAMModel.py, interactionSAMModel.py classes which are installed into ICUBCLIENT_DIR</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;* Implements the core functionality of SAM. This module is the memory system where the already transformed (by SAM_Drivers) perceived signals are compressed and stored in a coherent way. Coherent meaning that audio, visual etc signals are treated in analogous manner. This model is built upon the deep Gaussian process model using GPy, so that high-dimensional, noisy data can be compressed, chunked and &quot;cleaned&quot; automatically in a probabilistic way (ie the model is trying to keep the &quot;relevant&quot; variance in the data and eliminate redundancies in the representation by encoding memories as &quot;clean&quot; and non-redundant signals).</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;#### SAM_Drivers:</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;* This folder contains all developed drivers. </div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;* These drivers are accessed via the generic trainModel and interactionModel classes which are called from samSupervisor</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;* This module contains the implementation for transforming the raw perceptual signal into preprocessed signal. For example, in the biological brain, the visual cortex is hierarchically processing the visual stimuli before the signal is reaching the brain. In the current implementation, the drivers are doing this work, and currently we have implemented: Faces, Actions</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;## License</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;Copyright (C) 2015 WYSIWYD Consortium, European Commission FP7 Project ICT-612139</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;website: http://wysiwyd.upf.edu/</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;Permission is granted to copy, distribute, and/or modify this program under the terms of the GNU General Public License, version 2 or any later version published by the Free Software Foundation.</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;A copy of the license can be found at icub-client/LICENSE</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details</div></div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 19 2020 23:45:26 for icub-client by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
